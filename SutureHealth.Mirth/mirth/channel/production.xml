<channelGroup version="4.2.0">
  <id>de5b4621-ed40-4eea-ae50-b180f8ca5704</id>
  <name>production</name>
  <revision>2</revision>
  <lastModified>
    <time>1681256168032</time>
    <timezone>America/Winnipeg</timezone>
  </lastModified>
  <description>Production channel to process HL7 messages</description>
  <channels>
    <channel version="4.2.0">
      <id>0cf08b19-ba40-438b-b050-d94d04ca40bc</id>
      <nextMetaDataId>9</nextMetaDataId>
      <name>ADT_Production</name>
      <description>Process ADT message on test channel.</description>
      <revision>8</revision>
      <sourceConnector version="4.2.0">
        <metaDataId>0</metaDataId>
        <name>sourceConnector</name>
        <properties class="com.mirth.connect.connectors.vm.VmReceiverProperties" version="4.2.0">
          <pluginProperties/>
          <sourceConnectorProperties version="4.2.0">
            <responseVariable>Auto-generate (Destinations completed)</responseVariable>
            <respondAfterProcessing>true</respondAfterProcessing>
            <processBatch>false</processBatch>
            <firstResponse>false</firstResponse>
            <processingThreads>1</processingThreads>
            <resourceIds class="linked-hash-map">
              <entry>
                <string>Default Resource</string>
                <string>[Default Resource]</string>
              </entry>
              <entry>
                <string>4852c051-c963-4cdf-9a99-2edaa044875d</string>
                <string>MirthAWS</string>
              </entry>
            </resourceIds>
            <queueBufferSize>1000</queueBufferSize>
          </sourceConnectorProperties>
        </properties>
        <transformer version="4.2.0">
          <elements/>
          <inboundDataType>HL7V2</inboundDataType>
          <outboundDataType>HL7V2</outboundDataType>
          <inboundProperties class="com.mirth.connect.plugins.datatypes.hl7v2.HL7v2DataTypeProperties" version="4.2.0">
            <serializationProperties class="com.mirth.connect.plugins.datatypes.hl7v2.HL7v2SerializationProperties" version="4.2.0">
              <handleRepetitions>true</handleRepetitions>
              <handleSubcomponents>true</handleSubcomponents>
              <useStrictParser>false</useStrictParser>
              <useStrictValidation>false</useStrictValidation>
              <stripNamespaces>false</stripNamespaces>
              <segmentDelimiter>\r</segmentDelimiter>
              <convertLineBreaks>true</convertLineBreaks>
            </serializationProperties>
            <deserializationProperties class="com.mirth.connect.plugins.datatypes.hl7v2.HL7v2DeserializationProperties" version="4.2.0">
              <useStrictParser>false</useStrictParser>
              <useStrictValidation>false</useStrictValidation>
              <segmentDelimiter>\r</segmentDelimiter>
            </deserializationProperties>
            <batchProperties class="com.mirth.connect.plugins.datatypes.hl7v2.HL7v2BatchProperties" version="4.2.0">
              <splitType>MSH_Segment</splitType>
              <batchScript></batchScript>
            </batchProperties>
            <responseGenerationProperties class="com.mirth.connect.plugins.datatypes.hl7v2.HL7v2ResponseGenerationProperties" version="4.2.0">
              <segmentDelimiter>\r</segmentDelimiter>
              <successfulACKCode>AA</successfulACKCode>
              <successfulACKMessage></successfulACKMessage>
              <errorACKCode>AE</errorACKCode>
              <errorACKMessage>An Error Occurred Processing Message.</errorACKMessage>
              <rejectedACKCode>AR</rejectedACKCode>
              <rejectedACKMessage>Message Rejected.</rejectedACKMessage>
              <msh15ACKAccept>false</msh15ACKAccept>
              <dateFormat>yyyyMMddHHmmss.SSS</dateFormat>
            </responseGenerationProperties>
            <responseValidationProperties class="com.mirth.connect.plugins.datatypes.hl7v2.HL7v2ResponseValidationProperties" version="4.2.0">
              <successfulACKCode>AA,CA</successfulACKCode>
              <errorACKCode>AE,CE</errorACKCode>
              <rejectedACKCode>AR,CR</rejectedACKCode>
              <validateMessageControlId>true</validateMessageControlId>
              <originalMessageControlId>Destination_Encoded</originalMessageControlId>
              <originalIdMapVariable></originalIdMapVariable>
            </responseValidationProperties>
          </inboundProperties>
          <outboundProperties class="com.mirth.connect.plugins.datatypes.hl7v2.HL7v2DataTypeProperties" version="4.2.0">
            <serializationProperties class="com.mirth.connect.plugins.datatypes.hl7v2.HL7v2SerializationProperties" version="4.2.0">
              <handleRepetitions>true</handleRepetitions>
              <handleSubcomponents>true</handleSubcomponents>
              <useStrictParser>false</useStrictParser>
              <useStrictValidation>false</useStrictValidation>
              <stripNamespaces>false</stripNamespaces>
              <segmentDelimiter>\r</segmentDelimiter>
              <convertLineBreaks>true</convertLineBreaks>
            </serializationProperties>
            <deserializationProperties class="com.mirth.connect.plugins.datatypes.hl7v2.HL7v2DeserializationProperties" version="4.2.0">
              <useStrictParser>false</useStrictParser>
              <useStrictValidation>false</useStrictValidation>
              <segmentDelimiter>\r</segmentDelimiter>
            </deserializationProperties>
            <batchProperties class="com.mirth.connect.plugins.datatypes.hl7v2.HL7v2BatchProperties" version="4.2.0">
              <splitType>MSH_Segment</splitType>
              <batchScript></batchScript>
            </batchProperties>
            <responseGenerationProperties class="com.mirth.connect.plugins.datatypes.hl7v2.HL7v2ResponseGenerationProperties" version="4.2.0">
              <segmentDelimiter>\r</segmentDelimiter>
              <successfulACKCode>AA</successfulACKCode>
              <successfulACKMessage></successfulACKMessage>
              <errorACKCode>AE</errorACKCode>
              <errorACKMessage>An Error Occurred Processing Message.</errorACKMessage>
              <rejectedACKCode>AR</rejectedACKCode>
              <rejectedACKMessage>Message Rejected.</rejectedACKMessage>
              <msh15ACKAccept>false</msh15ACKAccept>
              <dateFormat>yyyyMMddHHmmss.SSS</dateFormat>
            </responseGenerationProperties>
            <responseValidationProperties class="com.mirth.connect.plugins.datatypes.hl7v2.HL7v2ResponseValidationProperties" version="4.2.0">
              <successfulACKCode>AA,CA</successfulACKCode>
              <errorACKCode>AE,CE</errorACKCode>
              <rejectedACKCode>AR,CR</rejectedACKCode>
              <validateMessageControlId>true</validateMessageControlId>
              <originalMessageControlId>Destination_Encoded</originalMessageControlId>
              <originalIdMapVariable></originalIdMapVariable>
            </responseValidationProperties>
          </outboundProperties>
        </transformer>
        <filter version="4.2.0">
          <elements/>
        </filter>
        <transportName>Channel Reader</transportName>
        <mode>SOURCE</mode>
        <enabled>true</enabled>
        <waitForPrevious>true</waitForPrevious>
      </sourceConnector>
      <destinationConnectors>
        <connector version="4.2.0">
          <metaDataId>1</metaDataId>
          <name>SaveRawADTMessageOnS3Bucket</name>
          <properties class="com.mirth.connect.connectors.file.FileDispatcherProperties" version="4.2.0">
            <pluginProperties/>
            <destinationConnectorProperties version="4.2.0">
              <queueEnabled>false</queueEnabled>
              <sendFirst>false</sendFirst>
              <retryIntervalMillis>10000</retryIntervalMillis>
              <regenerateTemplate>false</regenerateTemplate>
              <retryCount>0</retryCount>
              <rotate>false</rotate>
              <includeFilterTransformer>false</includeFilterTransformer>
              <threadCount>1</threadCount>
              <threadAssignmentVariable></threadAssignmentVariable>
              <validateResponse>false</validateResponse>
              <resourceIds class="linked-hash-map">
                <entry>
                  <string>Default Resource</string>
                  <string>[Default Resource]</string>
                </entry>
                <entry>
                  <string>4852c051-c963-4cdf-9a99-2edaa044875d</string>
                  <string>MirthAWS</string>
                </entry>
              </resourceIds>
              <queueBufferSize>1000</queueBufferSize>
              <reattachAttachments>true</reattachAttachments>
            </destinationConnectorProperties>
            <scheme>S3</scheme>
            <schemeProperties class="com.mirth.connect.connectors.file.S3SchemeProperties">
              <useDefaultCredentialProviderChain>true</useDefaultCredentialProviderChain>
              <useTemporaryCredentials>false</useTemporaryCredentials>
              <duration>7200</duration>
              <region>us-east-1</region>
              <customHeaders class="linked-hash-map"/>
            </schemeProperties>
            <host>hl7message-production/ADT/raw</host>
            <outputPattern>${mirth_type}.${DATE}.txt</outputPattern>
            <anonymous>false</anonymous>
            <username>${accessKey}</username>
            <password>hqZCQlgOwjPBRzJKwGUu9E8VeonyeuKfDg0t4dNp        </password>
            <timeout>10000</timeout>
            <keepConnectionOpen>true</keepConnectionOpen>
            <maxIdleTime>0</maxIdleTime>
            <secure>true</secure>
            <passive>true</passive>
            <validateConnection>true</validateConnection>
            <outputAppend>false</outputAppend>
            <errorOnExists>false</errorOnExists>
            <temporary>false</temporary>
            <binary>false</binary>
            <charsetEncoding>DEFAULT_ENCODING</charsetEncoding>
            <template>${message.encodedData}</template>
          </properties>
          <transformer version="4.2.0">
            <elements/>
            <inboundTemplate encoding="base64"></inboundTemplate>
            <outboundTemplate encoding="base64"></outboundTemplate>
            <inboundDataType>HL7V2</inboundDataType>
            <outboundDataType>HL7V2</outboundDataType>
            <inboundProperties class="com.mirth.connect.plugins.datatypes.hl7v2.HL7v2DataTypeProperties" version="4.2.0">
              <serializationProperties class="com.mirth.connect.plugins.datatypes.hl7v2.HL7v2SerializationProperties" version="4.2.0">
                <handleRepetitions>true</handleRepetitions>
                <handleSubcomponents>true</handleSubcomponents>
                <useStrictParser>false</useStrictParser>
                <useStrictValidation>false</useStrictValidation>
                <stripNamespaces>false</stripNamespaces>
                <segmentDelimiter>\r</segmentDelimiter>
                <convertLineBreaks>true</convertLineBreaks>
              </serializationProperties>
              <deserializationProperties class="com.mirth.connect.plugins.datatypes.hl7v2.HL7v2DeserializationProperties" version="4.2.0">
                <useStrictParser>false</useStrictParser>
                <useStrictValidation>false</useStrictValidation>
                <segmentDelimiter>\r</segmentDelimiter>
              </deserializationProperties>
              <batchProperties class="com.mirth.connect.plugins.datatypes.hl7v2.HL7v2BatchProperties" version="4.2.0">
                <splitType>MSH_Segment</splitType>
                <batchScript></batchScript>
              </batchProperties>
              <responseGenerationProperties class="com.mirth.connect.plugins.datatypes.hl7v2.HL7v2ResponseGenerationProperties" version="4.2.0">
                <segmentDelimiter>\r</segmentDelimiter>
                <successfulACKCode>AA</successfulACKCode>
                <successfulACKMessage></successfulACKMessage>
                <errorACKCode>AE</errorACKCode>
                <errorACKMessage>An Error Occurred Processing Message.</errorACKMessage>
                <rejectedACKCode>AR</rejectedACKCode>
                <rejectedACKMessage>Message Rejected.</rejectedACKMessage>
                <msh15ACKAccept>false</msh15ACKAccept>
                <dateFormat>yyyyMMddHHmmss.SSS</dateFormat>
              </responseGenerationProperties>
              <responseValidationProperties class="com.mirth.connect.plugins.datatypes.hl7v2.HL7v2ResponseValidationProperties" version="4.2.0">
                <successfulACKCode>AA,CA</successfulACKCode>
                <errorACKCode>AE,CE</errorACKCode>
                <rejectedACKCode>AR,CR</rejectedACKCode>
                <validateMessageControlId>true</validateMessageControlId>
                <originalMessageControlId>Destination_Encoded</originalMessageControlId>
                <originalIdMapVariable></originalIdMapVariable>
              </responseValidationProperties>
            </inboundProperties>
            <outboundProperties class="com.mirth.connect.plugins.datatypes.hl7v2.HL7v2DataTypeProperties" version="4.2.0">
              <serializationProperties class="com.mirth.connect.plugins.datatypes.hl7v2.HL7v2SerializationProperties" version="4.2.0">
                <handleRepetitions>true</handleRepetitions>
                <handleSubcomponents>true</handleSubcomponents>
                <useStrictParser>false</useStrictParser>
                <useStrictValidation>false</useStrictValidation>
                <stripNamespaces>false</stripNamespaces>
                <segmentDelimiter>\r</segmentDelimiter>
                <convertLineBreaks>true</convertLineBreaks>
              </serializationProperties>
              <deserializationProperties class="com.mirth.connect.plugins.datatypes.hl7v2.HL7v2DeserializationProperties" version="4.2.0">
                <useStrictParser>false</useStrictParser>
                <useStrictValidation>false</useStrictValidation>
                <segmentDelimiter>\r</segmentDelimiter>
              </deserializationProperties>
              <batchProperties class="com.mirth.connect.plugins.datatypes.hl7v2.HL7v2BatchProperties" version="4.2.0">
                <splitType>MSH_Segment</splitType>
                <batchScript></batchScript>
              </batchProperties>
              <responseGenerationProperties class="com.mirth.connect.plugins.datatypes.hl7v2.HL7v2ResponseGenerationProperties" version="4.2.0">
                <segmentDelimiter>\r</segmentDelimiter>
                <successfulACKCode>AA</successfulACKCode>
                <successfulACKMessage></successfulACKMessage>
                <errorACKCode>AE</errorACKCode>
                <errorACKMessage>An Error Occurred Processing Message.</errorACKMessage>
                <rejectedACKCode>AR</rejectedACKCode>
                <rejectedACKMessage>Message Rejected.</rejectedACKMessage>
                <msh15ACKAccept>false</msh15ACKAccept>
                <dateFormat>yyyyMMddHHmmss.SSS</dateFormat>
              </responseGenerationProperties>
              <responseValidationProperties class="com.mirth.connect.plugins.datatypes.hl7v2.HL7v2ResponseValidationProperties" version="4.2.0">
                <successfulACKCode>AA,CA</successfulACKCode>
                <errorACKCode>AE,CE</errorACKCode>
                <rejectedACKCode>AR,CR</rejectedACKCode>
                <validateMessageControlId>true</validateMessageControlId>
                <originalMessageControlId>Destination_Encoded</originalMessageControlId>
                <originalIdMapVariable></originalIdMapVariable>
              </responseValidationProperties>
            </outboundProperties>
          </transformer>
          <responseTransformer version="4.2.0">
            <elements/>
            <inboundDataType>HL7V2</inboundDataType>
            <outboundDataType>HL7V2</outboundDataType>
            <inboundProperties class="com.mirth.connect.plugins.datatypes.hl7v2.HL7v2DataTypeProperties" version="4.2.0">
              <serializationProperties class="com.mirth.connect.plugins.datatypes.hl7v2.HL7v2SerializationProperties" version="4.2.0">
                <handleRepetitions>true</handleRepetitions>
                <handleSubcomponents>true</handleSubcomponents>
                <useStrictParser>false</useStrictParser>
                <useStrictValidation>false</useStrictValidation>
                <stripNamespaces>false</stripNamespaces>
                <segmentDelimiter>\r</segmentDelimiter>
                <convertLineBreaks>true</convertLineBreaks>
              </serializationProperties>
              <deserializationProperties class="com.mirth.connect.plugins.datatypes.hl7v2.HL7v2DeserializationProperties" version="4.2.0">
                <useStrictParser>false</useStrictParser>
                <useStrictValidation>false</useStrictValidation>
                <segmentDelimiter>\r</segmentDelimiter>
              </deserializationProperties>
              <batchProperties class="com.mirth.connect.plugins.datatypes.hl7v2.HL7v2BatchProperties" version="4.2.0">
                <splitType>MSH_Segment</splitType>
                <batchScript></batchScript>
              </batchProperties>
              <responseGenerationProperties class="com.mirth.connect.plugins.datatypes.hl7v2.HL7v2ResponseGenerationProperties" version="4.2.0">
                <segmentDelimiter>\r</segmentDelimiter>
                <successfulACKCode>AA</successfulACKCode>
                <successfulACKMessage></successfulACKMessage>
                <errorACKCode>AE</errorACKCode>
                <errorACKMessage>An Error Occurred Processing Message.</errorACKMessage>
                <rejectedACKCode>AR</rejectedACKCode>
                <rejectedACKMessage>Message Rejected.</rejectedACKMessage>
                <msh15ACKAccept>false</msh15ACKAccept>
                <dateFormat>yyyyMMddHHmmss.SSS</dateFormat>
              </responseGenerationProperties>
              <responseValidationProperties class="com.mirth.connect.plugins.datatypes.hl7v2.HL7v2ResponseValidationProperties" version="4.2.0">
                <successfulACKCode>AA,CA</successfulACKCode>
                <errorACKCode>AE,CE</errorACKCode>
                <rejectedACKCode>AR,CR</rejectedACKCode>
                <validateMessageControlId>true</validateMessageControlId>
                <originalMessageControlId>Destination_Encoded</originalMessageControlId>
                <originalIdMapVariable></originalIdMapVariable>
              </responseValidationProperties>
            </inboundProperties>
            <outboundProperties class="com.mirth.connect.plugins.datatypes.hl7v2.HL7v2DataTypeProperties" version="4.2.0">
              <serializationProperties class="com.mirth.connect.plugins.datatypes.hl7v2.HL7v2SerializationProperties" version="4.2.0">
                <handleRepetitions>true</handleRepetitions>
                <handleSubcomponents>true</handleSubcomponents>
                <useStrictParser>false</useStrictParser>
                <useStrictValidation>false</useStrictValidation>
                <stripNamespaces>false</stripNamespaces>
                <segmentDelimiter>\r</segmentDelimiter>
                <convertLineBreaks>true</convertLineBreaks>
              </serializationProperties>
              <deserializationProperties class="com.mirth.connect.plugins.datatypes.hl7v2.HL7v2DeserializationProperties" version="4.2.0">
                <useStrictParser>false</useStrictParser>
                <useStrictValidation>false</useStrictValidation>
                <segmentDelimiter>\r</segmentDelimiter>
              </deserializationProperties>
              <batchProperties class="com.mirth.connect.plugins.datatypes.hl7v2.HL7v2BatchProperties" version="4.2.0">
                <splitType>MSH_Segment</splitType>
                <batchScript></batchScript>
              </batchProperties>
              <responseGenerationProperties class="com.mirth.connect.plugins.datatypes.hl7v2.HL7v2ResponseGenerationProperties" version="4.2.0">
                <segmentDelimiter>\r</segmentDelimiter>
                <successfulACKCode>AA</successfulACKCode>
                <successfulACKMessage></successfulACKMessage>
                <errorACKCode>AE</errorACKCode>
                <errorACKMessage>An Error Occurred Processing Message.</errorACKMessage>
                <rejectedACKCode>AR</rejectedACKCode>
                <rejectedACKMessage>Message Rejected.</rejectedACKMessage>
                <msh15ACKAccept>false</msh15ACKAccept>
                <dateFormat>yyyyMMddHHmmss.SSS</dateFormat>
              </responseGenerationProperties>
              <responseValidationProperties class="com.mirth.connect.plugins.datatypes.hl7v2.HL7v2ResponseValidationProperties" version="4.2.0">
                <successfulACKCode>AA,CA</successfulACKCode>
                <errorACKCode>AE,CE</errorACKCode>
                <rejectedACKCode>AR,CR</rejectedACKCode>
                <validateMessageControlId>true</validateMessageControlId>
                <originalMessageControlId>Destination_Encoded</originalMessageControlId>
                <originalIdMapVariable></originalIdMapVariable>
              </responseValidationProperties>
            </outboundProperties>
          </responseTransformer>
          <filter version="4.2.0">
            <elements/>
          </filter>
          <transportName>File Writer</transportName>
          <mode>DESTINATION</mode>
          <enabled>true</enabled>
          <waitForPrevious>true</waitForPrevious>
        </connector>
        <connector version="4.2.0">
          <metaDataId>2</metaDataId>
          <name>SaveADTMessageOnS3BucketAsJson</name>
          <properties class="com.mirth.connect.connectors.file.FileDispatcherProperties" version="4.2.0">
            <pluginProperties/>
            <destinationConnectorProperties version="4.2.0">
              <queueEnabled>false</queueEnabled>
              <sendFirst>false</sendFirst>
              <retryIntervalMillis>10000</retryIntervalMillis>
              <regenerateTemplate>false</regenerateTemplate>
              <retryCount>0</retryCount>
              <rotate>false</rotate>
              <includeFilterTransformer>false</includeFilterTransformer>
              <threadCount>1</threadCount>
              <threadAssignmentVariable></threadAssignmentVariable>
              <validateResponse>false</validateResponse>
              <resourceIds class="linked-hash-map">
                <entry>
                  <string>Default Resource</string>
                  <string>[Default Resource]</string>
                </entry>
                <entry>
                  <string>4852c051-c963-4cdf-9a99-2edaa044875d</string>
                  <string>MirthAWS</string>
                </entry>
              </resourceIds>
              <queueBufferSize>1000</queueBufferSize>
              <reattachAttachments>true</reattachAttachments>
            </destinationConnectorProperties>
            <scheme>S3</scheme>
            <schemeProperties class="com.mirth.connect.connectors.file.S3SchemeProperties">
              <useDefaultCredentialProviderChain>true</useDefaultCredentialProviderChain>
              <useTemporaryCredentials>false</useTemporaryCredentials>
              <duration>7200</duration>
              <region>us-east-1</region>
              <customHeaders class="linked-hash-map"/>
            </schemeProperties>
            <host>hl7message-production/ADT/json</host>
            <outputPattern>${mirth_type}.${DATE}.json</outputPattern>
            <anonymous>false</anonymous>
            <username>${accessKey}</username>
            <password>hqZCQlgOwjPBRzJKwGUu9E8VeonyeuKfDg0t4dNp             </password>
            <timeout>10000</timeout>
            <keepConnectionOpen>true</keepConnectionOpen>
            <maxIdleTime>0</maxIdleTime>
            <secure>true</secure>
            <passive>true</passive>
            <validateConnection>true</validateConnection>
            <outputAppend>false</outputAppend>
            <errorOnExists>false</errorOnExists>
            <temporary>false</temporary>
            <binary>false</binary>
            <charsetEncoding>DEFAULT_ENCODING</charsetEncoding>
            <template>${message.encodedData}</template>
          </properties>
          <transformer version="4.2.0">
            <elements>
              <com.mirth.connect.plugins.messagebuilder.MessageBuilderStep version="4.2.0">
                <name>organizationId (out)</name>
                <sequenceNumber>0</sequenceNumber>
                <enabled>true</enabled>
                <messageSegment>tmp[&apos;organizationId&apos;]</messageSegment>
                <mapping>msg[&apos;MSH&apos;][&apos;MSH.23&apos;][&apos;MSH.23.3&apos;]</mapping>
                <defaultValue></defaultValue>
                <replacements/>
              </com.mirth.connect.plugins.messagebuilder.MessageBuilderStep>
              <com.mirth.connect.plugins.messagebuilder.MessageBuilderStep version="4.2.0">
                <name>memberId (out)</name>
                <sequenceNumber>1</sequenceNumber>
                <enabled>true</enabled>
                <messageSegment>tmp[&apos;memberId&apos;]</messageSegment>
                <mapping>msg[&apos;EVN&apos;][&apos;EVN.5&apos;][&apos;EVN.5.1&apos;]</mapping>
                <defaultValue></defaultValue>
                <replacements/>
              </com.mirth.connect.plugins.messagebuilder.MessageBuilderStep>
              <com.mirth.connect.plugins.messagebuilder.MessageBuilderStep version="4.2.0">
                <name>patientId (out)</name>
                <sequenceNumber>2</sequenceNumber>
                <enabled>true</enabled>
                <messageSegment>tmp[&apos;patientId&apos;]</messageSegment>
                <mapping>msg[&apos;PID&apos;][&apos;PID.2&apos;][&apos;PID.2.1&apos;]</mapping>
                <defaultValue></defaultValue>
                <replacements/>
              </com.mirth.connect.plugins.messagebuilder.MessageBuilderStep>
              <com.mirth.connect.model.IteratorStep version="4.2.0">
                <name>For each msg[&apos;PID&apos;][&apos;PID.3&apos;]</name>
                <sequenceNumber>3</sequenceNumber>
                <enabled>true</enabled>
                <properties>
                  <target>msg[&apos;PID&apos;][&apos;PID.3&apos;]</target>
                  <indexVariable>i</indexVariable>
                  <prefixSubstitutions>
                    <string>msg[&apos;PID&apos;][&apos;PID.3&apos;]</string>
                  </prefixSubstitutions>
                  <children>
                    <com.mirth.connect.plugins.javascriptstep.JavaScriptStep version="4.2.0">
                      <name>medical record number (out)</name>
                      <sequenceNumber>3-0</sequenceNumber>
                      <enabled>true</enabled>
                      <script>if (msg[&apos;PID&apos;][&apos;PID.3&apos;][i][&apos;PID.3.5&apos;] == &quot;MR&quot;) {&#xd;	tmp[&apos;identifiers&apos;].push({
		&quot;type&quot;: &quot;external-unique-identifier&quot;,
		&quot;value&quot;: validate(msg[&apos;PID&apos;][&apos;PID.3&apos;][i][&apos;PID.3.1&apos;], &apos;&apos;, new Array())
	});&#xd;}</script>
                    </com.mirth.connect.plugins.javascriptstep.JavaScriptStep>
                  </children>
                </properties>
              </com.mirth.connect.model.IteratorStep>
              <com.mirth.connect.plugins.messagebuilder.MessageBuilderStep version="4.2.0">
                <name>patientName - firstName (out)</name>
                <sequenceNumber>4</sequenceNumber>
                <enabled>true</enabled>
                <messageSegment>tmp[&apos;patientName&apos;][&apos;firstName&apos;]</messageSegment>
                <mapping>msg[&apos;PID&apos;][&apos;PID.5&apos;][&apos;PID.5.2&apos;]</mapping>
                <defaultValue></defaultValue>
                <replacements/>
              </com.mirth.connect.plugins.messagebuilder.MessageBuilderStep>
              <com.mirth.connect.plugins.messagebuilder.MessageBuilderStep version="4.2.0">
                <name>patientName - middleName (out)</name>
                <sequenceNumber>5</sequenceNumber>
                <enabled>true</enabled>
                <messageSegment>tmp[&apos;patientName&apos;][&apos;middleName&apos;]</messageSegment>
                <mapping>msg[&apos;PID&apos;][&apos;PID.5&apos;][&apos;PID.5.3&apos;]</mapping>
                <defaultValue></defaultValue>
                <replacements/>
              </com.mirth.connect.plugins.messagebuilder.MessageBuilderStep>
              <com.mirth.connect.plugins.messagebuilder.MessageBuilderStep version="4.2.0">
                <name>patientName - lastName (out)</name>
                <sequenceNumber>6</sequenceNumber>
                <enabled>true</enabled>
                <messageSegment>tmp[&apos;patientName&apos;][&apos;lastName&apos;]</messageSegment>
                <mapping>msg[&apos;PID&apos;][&apos;PID.5&apos;][&apos;PID.5.1&apos;][&apos;PID.5.1.1&apos;]</mapping>
                <defaultValue></defaultValue>
                <replacements/>
              </com.mirth.connect.plugins.messagebuilder.MessageBuilderStep>
              <com.mirth.connect.plugins.messagebuilder.MessageBuilderStep version="4.2.0">
                <name>patientName - surffix (out)</name>
                <sequenceNumber>7</sequenceNumber>
                <enabled>true</enabled>
                <messageSegment>tmp[&apos;patientName&apos;][&apos;surffix&apos;]</messageSegment>
                <mapping>msg[&apos;PID&apos;][&apos;PID.5&apos;][&apos;PID.5.4&apos;]</mapping>
                <defaultValue></defaultValue>
                <replacements/>
              </com.mirth.connect.plugins.messagebuilder.MessageBuilderStep>
              <com.mirth.connect.plugins.javascriptstep.JavaScriptStep version="4.2.0">
                <name>birthDate (out)</name>
                <sequenceNumber>8</sequenceNumber>
                <enabled>true</enabled>
                <script>tmp[&apos;birthDate&apos;] = DateUtil.formatDate(&quot;yyyy-MM-dd&quot;, DateUtil.getDate(&quot;yyyyMMdd&quot;, msg[&apos;PID&apos;][&apos;PID.7&apos;][&apos;PID.7.1&apos;]));</script>
              </com.mirth.connect.plugins.javascriptstep.JavaScriptStep>
              <com.mirth.connect.plugins.messagebuilder.MessageBuilderStep version="4.2.0">
                <name>gender (out)</name>
                <sequenceNumber>9</sequenceNumber>
                <enabled>true</enabled>
                <messageSegment>tmp[&apos;gender&apos;]</messageSegment>
                <mapping>msg[&apos;PID&apos;][&apos;PID.8&apos;][&apos;PID.8.1&apos;]</mapping>
                <defaultValue></defaultValue>
                <replacements/>
              </com.mirth.connect.plugins.messagebuilder.MessageBuilderStep>
              <com.mirth.connect.plugins.messagebuilder.MessageBuilderStep version="4.2.0">
                <name>patientAddress - addressLine1 (out)</name>
                <sequenceNumber>10</sequenceNumber>
                <enabled>true</enabled>
                <messageSegment>tmp[&apos;patientAddress&apos;][&apos;addressLine1&apos;]</messageSegment>
                <mapping>msg[&apos;PID&apos;][&apos;PID.11&apos;][&apos;PID.11.1&apos;][&apos;PID.11.1.1&apos;]</mapping>
                <defaultValue></defaultValue>
                <replacements/>
              </com.mirth.connect.plugins.messagebuilder.MessageBuilderStep>
              <com.mirth.connect.plugins.messagebuilder.MessageBuilderStep version="4.2.0">
                <name>patientAddress - addressLine2 (out)</name>
                <sequenceNumber>11</sequenceNumber>
                <enabled>true</enabled>
                <messageSegment>tmp[&apos;patientAddress&apos;][&apos;addressLine2&apos;]</messageSegment>
                <mapping>msg[&apos;PID&apos;][&apos;PID.11&apos;][&apos;PID.11.2&apos;]</mapping>
                <defaultValue></defaultValue>
                <replacements/>
              </com.mirth.connect.plugins.messagebuilder.MessageBuilderStep>
              <com.mirth.connect.plugins.messagebuilder.MessageBuilderStep version="4.2.0">
                <name>patientAddress - city (out)</name>
                <sequenceNumber>12</sequenceNumber>
                <enabled>true</enabled>
                <messageSegment>tmp[&apos;patientAddress&apos;][&apos;city&apos;]</messageSegment>
                <mapping>msg[&apos;PID&apos;][&apos;PID.11&apos;][&apos;PID.11.3&apos;]</mapping>
                <defaultValue></defaultValue>
                <replacements/>
              </com.mirth.connect.plugins.messagebuilder.MessageBuilderStep>
              <com.mirth.connect.plugins.messagebuilder.MessageBuilderStep version="4.2.0">
                <name>patientAddress - state (out)</name>
                <sequenceNumber>13</sequenceNumber>
                <enabled>true</enabled>
                <messageSegment>tmp[&apos;patientAddress&apos;][&apos;state&apos;]</messageSegment>
                <mapping>msg[&apos;PID&apos;][&apos;PID.11&apos;][&apos;PID.11.4&apos;]</mapping>
                <defaultValue></defaultValue>
                <replacements/>
              </com.mirth.connect.plugins.messagebuilder.MessageBuilderStep>
              <com.mirth.connect.plugins.messagebuilder.MessageBuilderStep version="4.2.0">
                <name>patientAddress - postalCode (out)</name>
                <sequenceNumber>14</sequenceNumber>
                <enabled>true</enabled>
                <messageSegment>tmp[&apos;patientAddress&apos;][&apos;postalCode&apos;]</messageSegment>
                <mapping>msg[&apos;PID&apos;][&apos;PID.11&apos;][&apos;PID.11.5&apos;]</mapping>
                <defaultValue></defaultValue>
                <replacements/>
              </com.mirth.connect.plugins.messagebuilder.MessageBuilderStep>
              <com.mirth.connect.plugins.javascriptstep.JavaScriptStep version="4.2.0">
                <name>Social Security Numer (out)</name>
                <sequenceNumber>15</sequenceNumber>
                <enabled>true</enabled>
                <script>tmp[&apos;identifiers&apos;].push({
	&quot;type&quot;: &quot;ssn&quot;,
	&quot;value&quot;: validate(msg[&apos;PID&apos;][&apos;PID.19&apos;][&apos;PID.19.1&apos;], &apos;&apos;, new Array())
});
tmp[&apos;identifiers&apos;].push({
	&quot;type&quot;: &quot;ssn4&quot;,
	&quot;value&quot;: validate(msg[&apos;PID&apos;][&apos;PID.19&apos;][&apos;PID.19.1&apos;], &apos;&apos;, new Array()).slice(-4)
});</script>
              </com.mirth.connect.plugins.javascriptstep.JavaScriptStep>
              <com.mirth.connect.model.IteratorStep version="4.2.0">
                <name>For each msg[&apos;IN1&apos;]</name>
                <sequenceNumber>16</sequenceNumber>
                <enabled>true</enabled>
                <properties>
                  <target>msg[&apos;IN1&apos;]</target>
                  <indexVariable>i</indexVariable>
                  <prefixSubstitutions>
                    <string>msg[&apos;IN1&apos;]</string>
                    <string>tmp[&apos;IN1&apos;]</string>
                  </prefixSubstitutions>
                  <children>
                    <com.mirth.connect.plugins.javascriptstep.JavaScriptStep version="4.2.0">
                      <name>identifiers (out)</name>
                      <sequenceNumber>16-0</sequenceNumber>
                      <enabled>true</enabled>
                      <script>switch (validate(msg[&apos;IN1&apos;][i][&apos;IN1.15&apos;][&apos;IN1.15.1&apos;], &apos;&apos;, new Array())) {
	case &quot;mbi&quot;:
	case &quot;has-private-insurance&quot;:
	case &quot;has-self-pay&quot;:
	case &quot;has-medicare&quot;:
	case &quot;has-medicaid&quot;:
	case &quot;has-medicare-advantage&quot;:&#xd;		tmp[&apos;identifiers&apos;].push({
			&quot;type&quot;: validate(msg[&apos;IN1&apos;][i][&apos;IN1.15&apos;][&apos;IN1.15.1&apos;], &apos;&apos;, new Array()),
			&quot;value&quot;: validate(msg[&apos;IN1&apos;][i][&apos;IN1.2&apos;][&apos;IN1.2.1&apos;], &apos;&apos;, new Array())
		});
		break;
	case &quot;medicaid-number&quot;:
		tmp[&apos;identifiers&apos;].push({
			&quot;type&quot;: &quot;medicaid-number&quot;,
			&quot;value&quot;: validate(msg[&apos;IN1&apos;][i][&apos;IN1.2&apos;][&apos;IN1.2.1&apos;], &apos;&apos;, new Array())
		});
		tmp[&apos;identifiers&apos;].push({
			&quot;type&quot;: &quot;medicaid-state&quot;,
			&quot;value&quot;: validate(msg[&apos;IN1&apos;][i][&apos;IN1.5&apos;][&apos;IN1.5.4&apos;], &apos;&apos;, new Array())
		});
		break;&#xd;}</script>
                    </com.mirth.connect.plugins.javascriptstep.JavaScriptStep>
                  </children>
                </properties>
              </com.mirth.connect.model.IteratorStep>
            </elements>
            <inboundTemplate encoding="base64">TVNIfF5+XCZ8TkpHQ1BKMzNPU0ZQOVpaSEMyTTZ8MDgwMjc3MzUtMjY2Yi00MTQyLWF8U3V0dXJlSGVhbHRofHwyMDIzMDMyMTAzNDl8fEFEVF5BMDFeQURUX0EwMXwyMDIzMDMyMTAzNDkwUURQNDZCNXxQfDIuNnx8fHx8fHx8fHx8Xl4xMjM0NQpFVk58QTAxfDIwMjIwNzE1MDAwMHwyMDIyMTExNjAwMDB8MDF8MjM0MTR8MjAyMzAzMjExNTQ5ClBJRHwxfEVSLUpDLTgzMjl8UEgtMTc3Xl5eSENIQiZIQ0hCJklTT15QTn5XUC03MjBeXl5IQ0hCJkhDSEImSVNPXlBJfldQLTcyMF5eXkhDSEImSENIQiZJU09eTVJ8WlItOTMyXl5eSENIQiZIQ0hCJklTT15QSXx0ZXN0MSZedGVzdDJedGVzdF5Ncnx8MTk4MDAxMjd8TXx8fEdhc3RvbiBXZXN0YnJvb2sgQXZlJl5eRGVudmVyXk1hcnlsYW5kXjYwNjExXl5QXjBXR0lPXjIxN3x8fHx8fHxSM0UyMFBFRlBRNDl8NDAyLTkyLTM4NTB8fHx8fHx8fHx8MTk2NzA2MDMwMDAwMDB8WQpQVjF8fE8KSU4xfDF8NzM3MTAxMDU5NnxQWURJVnw3TjZQWl5MfF5eXl5eVVNBfHx8fHx8fHx8fG1iaXxeVVhOOUd8fDE5NjIxMTA4fDlHMEpOfHx8fHx8fHx8fHx8fHx8fHxMRTBVWgpJTjF8Mnx8UFlESVZ8N042UFpeTHxeXl5eXlVTQXx8fHx8fHx8fHxoYXMtcHJpdmF0ZS1pbnN1cmFuY2V8XlVYTjlHfHwxOTYyMTEwOHw5RzBKTnx8fHx8fHx8fHx8fHx8fHx8TEUwVVoKSU4xfDN8fFBZRElWfDdONlBaXkx8Xl5eXl5VU0F8fHx8fHx8fHx8aGFzLXNlbGYtcGF5fF5VWE45R3x8MTk2MjExMDh8OUcwSk58fHx8fHx8fHx8fHx8fHx8fExFMFVaCklOMXw2fDczNzEwMTA1OTZ8UFlESVZ8N042UFpeTHxeXl5DYWxpZm9ybmlhXl5VU0F8fHx8fHx8fHx8bWVkaWNhaWQtbnVtYmVyfF5VWE45R3x8MTk2MjExMDh8OUcwSk58fHx8fHx8fHx8fHx8fHx8fExFMFVa</inboundTemplate>
            <outboundTemplate encoding="base64">ewoJIm9yZ2FuaXphdGlvbklkIjogIiIsCgkibWVtYmVySWQiOiAiIiwKCSJwYXRpZW50SWQiOiAiIiwKCSJwYXRpZW50TmFtZSI6IHsKCQkiZmlyc3ROYW1lIjogIiIsCgkJIm1pZGRsZU5hbWUiOiAiIiwKCQkibGFzdE5hbWUiOiAiIiwKCQkic3VyZmZpeCI6ICIiDQl9LAoJImJpcnRoRGF0ZSI6ICIiLAoJImdlbmRlciI6ICIiLAoJInBhdGllbnRBZGRyZXNzIjogewoJCSJhZGRyZXNzTGluZTEiOiAiIiwKCQkiYWRkcmVzc0xpbmUyIjogIiIsCgkJImNpdHkiOiAiIiwKCQkic3RhdGUiOiAiIiwKCQkicG9zdGFsQ29kZSI6ICIiCgl9LAoJImlkZW50aWZpZXJzIjogW10KfQ==</outboundTemplate>
            <inboundDataType>HL7V2</inboundDataType>
            <outboundDataType>JSON</outboundDataType>
            <inboundProperties class="com.mirth.connect.plugins.datatypes.hl7v2.HL7v2DataTypeProperties" version="4.2.0">
              <serializationProperties class="com.mirth.connect.plugins.datatypes.hl7v2.HL7v2SerializationProperties" version="4.2.0">
                <handleRepetitions>true</handleRepetitions>
                <handleSubcomponents>true</handleSubcomponents>
                <useStrictParser>false</useStrictParser>
                <useStrictValidation>false</useStrictValidation>
                <stripNamespaces>false</stripNamespaces>
                <segmentDelimiter>\r</segmentDelimiter>
                <convertLineBreaks>true</convertLineBreaks>
              </serializationProperties>
              <deserializationProperties class="com.mirth.connect.plugins.datatypes.hl7v2.HL7v2DeserializationProperties" version="4.2.0">
                <useStrictParser>false</useStrictParser>
                <useStrictValidation>false</useStrictValidation>
                <segmentDelimiter>\r</segmentDelimiter>
              </deserializationProperties>
              <batchProperties class="com.mirth.connect.plugins.datatypes.hl7v2.HL7v2BatchProperties" version="4.2.0">
                <splitType>MSH_Segment</splitType>
                <batchScript></batchScript>
              </batchProperties>
              <responseGenerationProperties class="com.mirth.connect.plugins.datatypes.hl7v2.HL7v2ResponseGenerationProperties" version="4.2.0">
                <segmentDelimiter>\r</segmentDelimiter>
                <successfulACKCode>AA</successfulACKCode>
                <successfulACKMessage></successfulACKMessage>
                <errorACKCode>AE</errorACKCode>
                <errorACKMessage>An Error Occurred Processing Message.</errorACKMessage>
                <rejectedACKCode>AR</rejectedACKCode>
                <rejectedACKMessage>Message Rejected.</rejectedACKMessage>
                <msh15ACKAccept>false</msh15ACKAccept>
                <dateFormat>yyyyMMddHHmmss.SSS</dateFormat>
              </responseGenerationProperties>
              <responseValidationProperties class="com.mirth.connect.plugins.datatypes.hl7v2.HL7v2ResponseValidationProperties" version="4.2.0">
                <successfulACKCode>AA,CA</successfulACKCode>
                <errorACKCode>AE,CE</errorACKCode>
                <rejectedACKCode>AR,CR</rejectedACKCode>
                <validateMessageControlId>true</validateMessageControlId>
                <originalMessageControlId>Destination_Encoded</originalMessageControlId>
                <originalIdMapVariable></originalIdMapVariable>
              </responseValidationProperties>
            </inboundProperties>
            <outboundProperties class="com.mirth.connect.plugins.datatypes.json.JSONDataTypeProperties" version="4.2.0">
              <batchProperties class="com.mirth.connect.plugins.datatypes.json.JSONBatchProperties" version="4.2.0">
                <splitType>JavaScript</splitType>
                <batchScript></batchScript>
              </batchProperties>
            </outboundProperties>
          </transformer>
          <responseTransformer version="4.2.0">
            <elements/>
            <inboundDataType>JSON</inboundDataType>
            <outboundDataType>JSON</outboundDataType>
            <inboundProperties class="com.mirth.connect.plugins.datatypes.json.JSONDataTypeProperties" version="4.2.0">
              <batchProperties class="com.mirth.connect.plugins.datatypes.json.JSONBatchProperties" version="4.2.0">
                <splitType>JavaScript</splitType>
                <batchScript></batchScript>
              </batchProperties>
            </inboundProperties>
            <outboundProperties class="com.mirth.connect.plugins.datatypes.json.JSONDataTypeProperties" version="4.2.0">
              <batchProperties class="com.mirth.connect.plugins.datatypes.json.JSONBatchProperties" version="4.2.0">
                <splitType>JavaScript</splitType>
                <batchScript></batchScript>
              </batchProperties>
            </outboundProperties>
          </responseTransformer>
          <filter version="4.2.0">
            <elements/>
          </filter>
          <transportName>File Writer</transportName>
          <mode>DESTINATION</mode>
          <enabled>true</enabled>
          <waitForPrevious>true</waitForPrevious>
        </connector>
        <connector version="4.2.0">
          <metaDataId>4</metaDataId>
          <name>SendADTMessageToKinesisDataStream</name>
          <properties class="com.mirth.connect.connectors.js.JavaScriptDispatcherProperties" version="4.2.0">
            <pluginProperties/>
            <destinationConnectorProperties version="4.2.0">
              <queueEnabled>false</queueEnabled>
              <sendFirst>false</sendFirst>
              <retryIntervalMillis>10000</retryIntervalMillis>
              <regenerateTemplate>false</regenerateTemplate>
              <retryCount>0</retryCount>
              <rotate>false</rotate>
              <includeFilterTransformer>false</includeFilterTransformer>
              <threadCount>1</threadCount>
              <threadAssignmentVariable></threadAssignmentVariable>
              <validateResponse>false</validateResponse>
              <resourceIds class="linked-hash-map">
                <entry>
                  <string>Default Resource</string>
                  <string>[Default Resource]</string>
                </entry>
                <entry>
                  <string>4852c051-c963-4cdf-9a99-2edaa044875d</string>
                  <string>MirthAWS</string>
                </entry>
              </resourceIds>
              <queueBufferSize>1000</queueBufferSize>
              <reattachAttachments>true</reattachAttachments>
            </destinationConnectorProperties>
            <script>var mirthAWS = new Packages.org.mirth.MirthAWS();
var result = mirthAWS.sendMDMToKinesis(configurationMap.kinesisDataStreamName_production, connectorMessage.getEncodedData(), connectorMap.mirth_type, &quot;1&quot;, configurationMap.accessKey, configurationMap.secretKey);
logger.info(result);</script>
          </properties>
          <transformer version="4.2.0">
            <elements>
              <com.mirth.connect.plugins.messagebuilder.MessageBuilderStep version="4.2.0">
                <name>organizationId (out)</name>
                <sequenceNumber>0</sequenceNumber>
                <enabled>true</enabled>
                <messageSegment>tmp[&apos;organizationId&apos;]</messageSegment>
                <mapping>msg[&apos;MSH&apos;][&apos;MSH.23&apos;][&apos;MSH.23.3&apos;]</mapping>
                <defaultValue></defaultValue>
                <replacements/>
              </com.mirth.connect.plugins.messagebuilder.MessageBuilderStep>
              <com.mirth.connect.plugins.messagebuilder.MessageBuilderStep version="4.2.0">
                <name>memberId (out)</name>
                <sequenceNumber>1</sequenceNumber>
                <enabled>true</enabled>
                <messageSegment>tmp[&apos;memberId&apos;]</messageSegment>
                <mapping>msg[&apos;EVN&apos;][&apos;EVN.5&apos;][&apos;EVN.5.1&apos;]</mapping>
                <defaultValue></defaultValue>
                <replacements/>
              </com.mirth.connect.plugins.messagebuilder.MessageBuilderStep>
              <com.mirth.connect.plugins.messagebuilder.MessageBuilderStep version="4.2.0">
                <name>patientId (out)</name>
                <sequenceNumber>2</sequenceNumber>
                <enabled>true</enabled>
                <messageSegment>tmp[&apos;patientId&apos;]</messageSegment>
                <mapping>msg[&apos;PID&apos;][&apos;PID.2&apos;][&apos;PID.2.1&apos;]</mapping>
                <defaultValue></defaultValue>
                <replacements/>
              </com.mirth.connect.plugins.messagebuilder.MessageBuilderStep>
              <com.mirth.connect.model.IteratorStep version="4.2.0">
                <name>For each msg[&apos;PID&apos;][&apos;PID.3&apos;]</name>
                <sequenceNumber>3</sequenceNumber>
                <enabled>true</enabled>
                <properties>
                  <target>msg[&apos;PID&apos;][&apos;PID.3&apos;]</target>
                  <indexVariable>i</indexVariable>
                  <prefixSubstitutions>
                    <string>msg[&apos;PID&apos;][&apos;PID.3&apos;]</string>
                  </prefixSubstitutions>
                  <children>
                    <com.mirth.connect.plugins.javascriptstep.JavaScriptStep version="4.2.0">
                      <name>medical record number (out)</name>
                      <sequenceNumber>3-0</sequenceNumber>
                      <enabled>true</enabled>
                      <script>if (msg[&apos;PID&apos;][&apos;PID.3&apos;][i][&apos;PID.3.5&apos;] == &quot;MR&quot;) {&#xd;	tmp[&apos;identifiers&apos;].push({
		&quot;type&quot;: &quot;external-unique-identifier&quot;,
		&quot;value&quot;: validate(msg[&apos;PID&apos;][&apos;PID.3&apos;][i][&apos;PID.3.1&apos;], &apos;&apos;, new Array())
	});&#xd;}</script>
                    </com.mirth.connect.plugins.javascriptstep.JavaScriptStep>
                  </children>
                </properties>
              </com.mirth.connect.model.IteratorStep>
              <com.mirth.connect.plugins.messagebuilder.MessageBuilderStep version="4.2.0">
                <name>patientName - firstName (out)</name>
                <sequenceNumber>4</sequenceNumber>
                <enabled>true</enabled>
                <messageSegment>tmp[&apos;patientName&apos;][&apos;firstName&apos;]</messageSegment>
                <mapping>msg[&apos;PID&apos;][&apos;PID.5&apos;][&apos;PID.5.2&apos;]</mapping>
                <defaultValue></defaultValue>
                <replacements/>
              </com.mirth.connect.plugins.messagebuilder.MessageBuilderStep>
              <com.mirth.connect.plugins.messagebuilder.MessageBuilderStep version="4.2.0">
                <name>patientName - middleName (out)</name>
                <sequenceNumber>5</sequenceNumber>
                <enabled>true</enabled>
                <messageSegment>tmp[&apos;patientName&apos;][&apos;middleName&apos;]</messageSegment>
                <mapping>msg[&apos;PID&apos;][&apos;PID.5&apos;][&apos;PID.5.3&apos;]</mapping>
                <defaultValue></defaultValue>
                <replacements/>
              </com.mirth.connect.plugins.messagebuilder.MessageBuilderStep>
              <com.mirth.connect.plugins.messagebuilder.MessageBuilderStep version="4.2.0">
                <name>patientName - lastName (out)</name>
                <sequenceNumber>6</sequenceNumber>
                <enabled>true</enabled>
                <messageSegment>tmp[&apos;patientName&apos;][&apos;lastName&apos;]</messageSegment>
                <mapping>msg[&apos;PID&apos;][&apos;PID.5&apos;][&apos;PID.5.1&apos;][&apos;PID.5.1.1&apos;]</mapping>
                <defaultValue></defaultValue>
                <replacements/>
              </com.mirth.connect.plugins.messagebuilder.MessageBuilderStep>
              <com.mirth.connect.plugins.messagebuilder.MessageBuilderStep version="4.2.0">
                <name>patientName - surffix (out)</name>
                <sequenceNumber>7</sequenceNumber>
                <enabled>true</enabled>
                <messageSegment>tmp[&apos;patientName&apos;][&apos;surffix&apos;]</messageSegment>
                <mapping>msg[&apos;PID&apos;][&apos;PID.5&apos;][&apos;PID.5.4&apos;]</mapping>
                <defaultValue></defaultValue>
                <replacements/>
              </com.mirth.connect.plugins.messagebuilder.MessageBuilderStep>
              <com.mirth.connect.plugins.javascriptstep.JavaScriptStep version="4.2.0">
                <name>birthDate (out)</name>
                <sequenceNumber>8</sequenceNumber>
                <enabled>true</enabled>
                <script>tmp[&apos;birthDate&apos;] = DateUtil.formatDate(&quot;yyyy-MM-dd&quot;, DateUtil.getDate(&quot;yyyyMMdd&quot;, msg[&apos;PID&apos;][&apos;PID.7&apos;][&apos;PID.7.1&apos;]));</script>
              </com.mirth.connect.plugins.javascriptstep.JavaScriptStep>
              <com.mirth.connect.plugins.messagebuilder.MessageBuilderStep version="4.2.0">
                <name>gender (out)</name>
                <sequenceNumber>9</sequenceNumber>
                <enabled>true</enabled>
                <messageSegment>tmp[&apos;gender&apos;]</messageSegment>
                <mapping>msg[&apos;PID&apos;][&apos;PID.8&apos;][&apos;PID.8.1&apos;]</mapping>
                <defaultValue></defaultValue>
                <replacements/>
              </com.mirth.connect.plugins.messagebuilder.MessageBuilderStep>
              <com.mirth.connect.plugins.messagebuilder.MessageBuilderStep version="4.2.0">
                <name>patientAddress - addressLine1 (out)</name>
                <sequenceNumber>10</sequenceNumber>
                <enabled>true</enabled>
                <messageSegment>tmp[&apos;patientAddress&apos;][&apos;addressLine1&apos;]</messageSegment>
                <mapping>msg[&apos;PID&apos;][&apos;PID.11&apos;][&apos;PID.11.1&apos;][&apos;PID.11.1.1&apos;]</mapping>
                <defaultValue></defaultValue>
                <replacements/>
              </com.mirth.connect.plugins.messagebuilder.MessageBuilderStep>
              <com.mirth.connect.plugins.messagebuilder.MessageBuilderStep version="4.2.0">
                <name>patientAddress - addressLine2 (out)</name>
                <sequenceNumber>11</sequenceNumber>
                <enabled>true</enabled>
                <messageSegment>tmp[&apos;patientAddress&apos;][&apos;addressLine2&apos;]</messageSegment>
                <mapping>msg[&apos;PID&apos;][&apos;PID.11&apos;][&apos;PID.11.2&apos;]</mapping>
                <defaultValue></defaultValue>
                <replacements/>
              </com.mirth.connect.plugins.messagebuilder.MessageBuilderStep>
              <com.mirth.connect.plugins.messagebuilder.MessageBuilderStep version="4.2.0">
                <name>patientAddress - city (out)</name>
                <sequenceNumber>12</sequenceNumber>
                <enabled>true</enabled>
                <messageSegment>tmp[&apos;patientAddress&apos;][&apos;city&apos;]</messageSegment>
                <mapping>msg[&apos;PID&apos;][&apos;PID.11&apos;][&apos;PID.11.3&apos;]</mapping>
                <defaultValue></defaultValue>
                <replacements/>
              </com.mirth.connect.plugins.messagebuilder.MessageBuilderStep>
              <com.mirth.connect.plugins.messagebuilder.MessageBuilderStep version="4.2.0">
                <name>patientAddress - state (out)</name>
                <sequenceNumber>13</sequenceNumber>
                <enabled>true</enabled>
                <messageSegment>tmp[&apos;patientAddress&apos;][&apos;state&apos;]</messageSegment>
                <mapping>msg[&apos;PID&apos;][&apos;PID.11&apos;][&apos;PID.11.4&apos;]</mapping>
                <defaultValue></defaultValue>
                <replacements/>
              </com.mirth.connect.plugins.messagebuilder.MessageBuilderStep>
              <com.mirth.connect.plugins.messagebuilder.MessageBuilderStep version="4.2.0">
                <name>patientAddress - postalCode (out)</name>
                <sequenceNumber>14</sequenceNumber>
                <enabled>true</enabled>
                <messageSegment>tmp[&apos;patientAddress&apos;][&apos;postalCode&apos;]</messageSegment>
                <mapping>msg[&apos;PID&apos;][&apos;PID.11&apos;][&apos;PID.11.5&apos;]</mapping>
                <defaultValue></defaultValue>
                <replacements/>
              </com.mirth.connect.plugins.messagebuilder.MessageBuilderStep>
              <com.mirth.connect.plugins.javascriptstep.JavaScriptStep version="4.2.0">
                <name>Social Security Numer (out)</name>
                <sequenceNumber>15</sequenceNumber>
                <enabled>true</enabled>
                <script>tmp[&apos;identifiers&apos;].push({
	&quot;type&quot;: &quot;ssn&quot;,
	&quot;value&quot;: validate(msg[&apos;PID&apos;][&apos;PID.19&apos;][&apos;PID.19.1&apos;], &apos;&apos;, new Array())
});
tmp[&apos;identifiers&apos;].push({
	&quot;type&quot;: &quot;ssn4&quot;,
	&quot;value&quot;: validate(msg[&apos;PID&apos;][&apos;PID.19&apos;][&apos;PID.19.1&apos;], &apos;&apos;, new Array()).slice(-4)
});</script>
              </com.mirth.connect.plugins.javascriptstep.JavaScriptStep>
              <com.mirth.connect.model.IteratorStep version="4.2.0">
                <name>For each msg[&apos;IN1&apos;]</name>
                <sequenceNumber>16</sequenceNumber>
                <enabled>true</enabled>
                <properties>
                  <target>msg[&apos;IN1&apos;]</target>
                  <indexVariable>i</indexVariable>
                  <prefixSubstitutions>
                    <string>msg[&apos;IN1&apos;]</string>
                    <string>tmp[&apos;IN1&apos;]</string>
                  </prefixSubstitutions>
                  <children>
                    <com.mirth.connect.plugins.javascriptstep.JavaScriptStep version="4.2.0">
                      <name>identifiers (out)</name>
                      <sequenceNumber>16-0</sequenceNumber>
                      <enabled>true</enabled>
                      <script>switch (validate(msg[&apos;IN1&apos;][i][&apos;IN1.15&apos;][&apos;IN1.15.1&apos;], &apos;&apos;, new Array())) {
	case &quot;mbi&quot;:
	case &quot;has-private-insurance&quot;:
	case &quot;has-self-pay&quot;:
	case &quot;has-medicare&quot;:
	case &quot;has-medicaid&quot;:
	case &quot;has-medicare-advantage&quot;:&#xd;		tmp[&apos;identifiers&apos;].push({
			&quot;type&quot;: validate(msg[&apos;IN1&apos;][i][&apos;IN1.15&apos;][&apos;IN1.15.1&apos;], &apos;&apos;, new Array()),
			&quot;value&quot;: validate(msg[&apos;IN1&apos;][i][&apos;IN1.2&apos;][&apos;IN1.2.1&apos;], &apos;&apos;, new Array())
		});
		break;
	case &quot;medicaid-number&quot;:
		tmp[&apos;identifiers&apos;].push({
			&quot;type&quot;: &quot;medicaid-number&quot;,
			&quot;value&quot;: validate(msg[&apos;IN1&apos;][i][&apos;IN1.2&apos;][&apos;IN1.2.1&apos;], &apos;&apos;, new Array())
		});
		tmp[&apos;identifiers&apos;].push({
			&quot;type&quot;: &quot;medicaid-state&quot;,
			&quot;value&quot;: validate(msg[&apos;IN1&apos;][i][&apos;IN1.5&apos;][&apos;IN1.5.4&apos;], &apos;&apos;, new Array())
		});
		break;&#xd;}</script>
                    </com.mirth.connect.plugins.javascriptstep.JavaScriptStep>
                  </children>
                </properties>
              </com.mirth.connect.model.IteratorStep>
            </elements>
            <inboundTemplate encoding="base64">TVNIfF5+XCZ8TkpHQ1BKMzNPU0ZQOVpaSEMyTTZ8MDgwMjc3MzUtMjY2Yi00MTQyLWF8U3V0dXJlSGVhbHRofHwyMDIzMDMyMTAzNDl8fEFEVF5BMDFeQURUX0EwMXwyMDIzMDMyMTAzNDkwUURQNDZCNXxQfDIuNnx8fHx8fHx8fHx8Xl4xMjM0NQpFVk58QTAxfDIwMjIwNzE1MDAwMHwyMDIyMTExNjAwMDB8MDF8MjM0MTR8MjAyMzAzMjExNTQ5ClBJRHwxfEVSLUpDLTgzMjl8UEgtMTc3Xl5eSENIQiZIQ0hCJklTT15QTn5XUC03MjBeXl5IQ0hCJkhDSEImSVNPXlBJfldQLTcyMF5eXkhDSEImSENIQiZJU09eTVJ8WlItOTMyXl5eSENIQiZIQ0hCJklTT15QSXxTdGVwaGVucyZeQ2xldmVsYW5kXkNBXk1yfHwxOTY5MDUyN3xNfHx8R2FzdG9uIFdlc3Ricm9vayBBdmUmXl5EZW52ZXJeTWFyeWxhbmReNjA2MTFeXlBeMFdHSU9eMjE3fHx8fHx8fFIzRTIwUEVGUFE0OXw0MDItOTItMzg1MHx8fHx8fHx8fHwxOTY3MDYwMzAwMDAwMHxZClBWMXx8TwpJTjF8MXw3MzcxMDEwNTk2fFBZRElWfDdONlBaXkx8Xl5eXl5VU0F8fHx8fHx8fHx8bWJpfF5VWE45R3x8MTk2MjExMDh8OUcwSk58fHx8fHx8fHx8fHx8fHx8fExFMFVaCklOMXwyfHxQWURJVnw3TjZQWl5MfF5eXl5eVVNBfHx8fHx8fHx8fGhhcy1wcml2YXRlLWluc3VyYW5jZXxeVVhOOUd8fDE5NjIxMTA4fDlHMEpOfHx8fHx8fHx8fHx8fHx8fHxMRTBVWgpJTjF8M3x8UFlESVZ8N042UFpeTHxeXl5eXlVTQXx8fHx8fHx8fHxoYXMtc2VsZi1wYXl8XlVYTjlHfHwxOTYyMTEwOHw5RzBKTnx8fHx8fHx8fHx8fHx8fHx8TEUwVVoKSU4xfDZ8NzM3MTAxMDU5NnxQWURJVnw3TjZQWl5MfF5eXkNhbGlmb3JuaWFeXlVTQXx8fHx8fHx8fHxtZWRpY2FpZC1udW1iZXJ8XlVYTjlHfHwxOTYyMTEwOHw5RzBKTnx8fHx8fHx8fHx8fHx8fHx8TEUwVVo=</inboundTemplate>
            <outboundTemplate encoding="base64">ewoJIm9yZ2FuaXphdGlvbklkIjogIiIsCgkibWVtYmVySWQiOiAiIiwKCSJwYXRpZW50SWQiOiAiIiwKCSJwYXRpZW50TmFtZSI6IHsKCQkiZmlyc3ROYW1lIjogIiIsCgkJIm1pZGRsZU5hbWUiOiAiIiwKCQkibGFzdE5hbWUiOiAiIiwKCQkic3VyZmZpeCI6ICIiDQl9LAoJImJpcnRoRGF0ZSI6ICIiLAoJImdlbmRlciI6ICIiLAoJInBhdGllbnRBZGRyZXNzIjogewoJCSJhZGRyZXNzTGluZTEiOiAiIiwKCQkiYWRkcmVzc0xpbmUyIjogIiIsCgkJImNpdHkiOiAiIiwKCQkic3RhdGUiOiAiIiwKCQkicG9zdGFsQ29kZSI6ICIiCgl9LAoJImlkZW50aWZpZXJzIjogW10KfQ==</outboundTemplate>
            <inboundDataType>HL7V2</inboundDataType>
            <outboundDataType>JSON</outboundDataType>
            <inboundProperties class="com.mirth.connect.plugins.datatypes.hl7v2.HL7v2DataTypeProperties" version="4.2.0">
              <serializationProperties class="com.mirth.connect.plugins.datatypes.hl7v2.HL7v2SerializationProperties" version="4.2.0">
                <handleRepetitions>true</handleRepetitions>
                <handleSubcomponents>true</handleSubcomponents>
                <useStrictParser>false</useStrictParser>
                <useStrictValidation>false</useStrictValidation>
                <stripNamespaces>false</stripNamespaces>
                <segmentDelimiter>\r</segmentDelimiter>
                <convertLineBreaks>true</convertLineBreaks>
              </serializationProperties>
              <deserializationProperties class="com.mirth.connect.plugins.datatypes.hl7v2.HL7v2DeserializationProperties" version="4.2.0">
                <useStrictParser>false</useStrictParser>
                <useStrictValidation>false</useStrictValidation>
                <segmentDelimiter>\r</segmentDelimiter>
              </deserializationProperties>
              <batchProperties class="com.mirth.connect.plugins.datatypes.hl7v2.HL7v2BatchProperties" version="4.2.0">
                <splitType>MSH_Segment</splitType>
                <batchScript></batchScript>
              </batchProperties>
              <responseGenerationProperties class="com.mirth.connect.plugins.datatypes.hl7v2.HL7v2ResponseGenerationProperties" version="4.2.0">
                <segmentDelimiter>\r</segmentDelimiter>
                <successfulACKCode>AA</successfulACKCode>
                <successfulACKMessage></successfulACKMessage>
                <errorACKCode>AE</errorACKCode>
                <errorACKMessage>An Error Occurred Processing Message.</errorACKMessage>
                <rejectedACKCode>AR</rejectedACKCode>
                <rejectedACKMessage>Message Rejected.</rejectedACKMessage>
                <msh15ACKAccept>false</msh15ACKAccept>
                <dateFormat>yyyyMMddHHmmss.SSS</dateFormat>
              </responseGenerationProperties>
              <responseValidationProperties class="com.mirth.connect.plugins.datatypes.hl7v2.HL7v2ResponseValidationProperties" version="4.2.0">
                <successfulACKCode>AA,CA</successfulACKCode>
                <errorACKCode>AE,CE</errorACKCode>
                <rejectedACKCode>AR,CR</rejectedACKCode>
                <validateMessageControlId>true</validateMessageControlId>
                <originalMessageControlId>Destination_Encoded</originalMessageControlId>
                <originalIdMapVariable></originalIdMapVariable>
              </responseValidationProperties>
            </inboundProperties>
            <outboundProperties class="com.mirth.connect.plugins.datatypes.json.JSONDataTypeProperties" version="4.2.0">
              <batchProperties class="com.mirth.connect.plugins.datatypes.json.JSONBatchProperties" version="4.2.0">
                <splitType>JavaScript</splitType>
                <batchScript></batchScript>
              </batchProperties>
            </outboundProperties>
          </transformer>
          <responseTransformer version="4.2.0">
            <elements/>
            <inboundDataType>JSON</inboundDataType>
            <outboundDataType>JSON</outboundDataType>
            <inboundProperties class="com.mirth.connect.plugins.datatypes.json.JSONDataTypeProperties" version="4.2.0">
              <batchProperties class="com.mirth.connect.plugins.datatypes.json.JSONBatchProperties" version="4.2.0">
                <splitType>JavaScript</splitType>
                <batchScript></batchScript>
              </batchProperties>
            </inboundProperties>
            <outboundProperties class="com.mirth.connect.plugins.datatypes.json.JSONDataTypeProperties" version="4.2.0">
              <batchProperties class="com.mirth.connect.plugins.datatypes.json.JSONBatchProperties" version="4.2.0">
                <splitType>JavaScript</splitType>
                <batchScript></batchScript>
              </batchProperties>
            </outboundProperties>
          </responseTransformer>
          <filter version="4.2.0">
            <elements/>
          </filter>
          <transportName>JavaScript Writer</transportName>
          <mode>DESTINATION</mode>
          <enabled>true</enabled>
          <waitForPrevious>true</waitForPrevious>
        </connector>
      </destinationConnectors>
      <preprocessingScript>// Modify the message variable below to pre process data
return message;</preprocessingScript>
      <postprocessingScript>// This script executes once after a message has been processed
// Responses returned from here will be stored as &quot;Postprocessor&quot; in the response map
return;</postprocessingScript>
      <deployScript>// This script executes once when the channel is deployed
// You only have access to the globalMap and globalChannelMap here to persist data
return;</deployScript>
      <undeployScript>// This script executes once when the channel is undeployed
// You only have access to the globalMap and globalChannelMap here to persist data
return;</undeployScript>
      <properties version="4.2.0">
        <clearGlobalChannelMap>true</clearGlobalChannelMap>
        <messageStorageMode>DEVELOPMENT</messageStorageMode>
        <encryptData>false</encryptData>
        <removeContentOnCompletion>false</removeContentOnCompletion>
        <removeOnlyFilteredOnCompletion>false</removeOnlyFilteredOnCompletion>
        <removeAttachmentsOnCompletion>false</removeAttachmentsOnCompletion>
        <initialState>STARTED</initialState>
        <storeAttachments>true</storeAttachments>
        <metaDataColumns>
          <metaDataColumn>
            <name>SOURCE</name>
            <type>STRING</type>
            <mappingName>mirth_source</mappingName>
          </metaDataColumn>
          <metaDataColumn>
            <name>TYPE</name>
            <type>STRING</type>
            <mappingName>mirth_type</mappingName>
          </metaDataColumn>
        </metaDataColumns>
        <attachmentProperties version="4.2.0">
          <type>None</type>
          <properties/>
        </attachmentProperties>
        <resourceIds class="linked-hash-map">
          <entry>
            <string>Default Resource</string>
            <string>[Default Resource]</string>
          </entry>
          <entry>
            <string>4852c051-c963-4cdf-9a99-2edaa044875d</string>
            <string>MirthAWS</string>
          </entry>
        </resourceIds>
      </properties>
      <exportData>
        <metadata>
          <enabled>true</enabled>
          <lastModified>
            <time>1681263199359</time>
            <timezone>America/Winnipeg</timezone>
          </lastModified>
          <pruningSettings>
            <archiveEnabled>true</archiveEnabled>
            <pruneErroredMessages>false</pruneErroredMessages>
          </pruningSettings>
          <userId>1</userId>
        </metadata>
      </exportData>
    </channel>
    <channel version="4.2.0">
      <id>27f8de26-896b-4fd2-962b-5f267eeef53a</id>
      <nextMetaDataId>12</nextMetaDataId>
      <name>Receiver_Production</name>
      <description>Receive HL7 message from test channel.</description>
      <revision>10</revision>
      <sourceConnector version="4.2.0">
        <metaDataId>0</metaDataId>
        <name>sourceConnector</name>
        <properties class="com.mirth.connect.connectors.tcp.TcpReceiverProperties" version="4.2.0">
          <pluginProperties/>
          <listenerConnectorProperties version="4.2.0">
            <host>0.0.0.0</host>
            <port>6662</port>
          </listenerConnectorProperties>
          <sourceConnectorProperties version="4.2.0">
            <responseVariable>Auto-generate (Destinations completed)</responseVariable>
            <respondAfterProcessing>true</respondAfterProcessing>
            <processBatch>false</processBatch>
            <firstResponse>true</firstResponse>
            <processingThreads>1</processingThreads>
            <resourceIds class="linked-hash-map">
              <entry>
                <string>Default Resource</string>
                <string>[Default Resource]</string>
              </entry>
              <entry>
                <string>4852c051-c963-4cdf-9a99-2edaa044875d</string>
                <string>MirthAWS</string>
              </entry>
            </resourceIds>
            <queueBufferSize>1000</queueBufferSize>
          </sourceConnectorProperties>
          <transmissionModeProperties class="com.mirth.connect.plugins.mllpmode.MLLPModeProperties">
            <pluginPointName>MLLP</pluginPointName>
            <startOfMessageBytes>0B</startOfMessageBytes>
            <endOfMessageBytes>1C0D</endOfMessageBytes>
            <useMLLPv2>false</useMLLPv2>
            <ackBytes>06</ackBytes>
            <nackBytes>15</nackBytes>
            <maxRetries>2</maxRetries>
          </transmissionModeProperties>
          <serverMode>true</serverMode>
          <remoteAddress></remoteAddress>
          <remotePort></remotePort>
          <overrideLocalBinding>false</overrideLocalBinding>
          <reconnectInterval>5000</reconnectInterval>
          <receiveTimeout>0</receiveTimeout>
          <bufferSize>65536</bufferSize>
          <maxConnections>10</maxConnections>
          <keepConnectionOpen>true</keepConnectionOpen>
          <dataTypeBinary>false</dataTypeBinary>
          <charsetEncoding>DEFAULT_ENCODING</charsetEncoding>
          <respondOnNewConnection>0</respondOnNewConnection>
          <responseAddress></responseAddress>
          <responsePort></responsePort>
        </properties>
        <transformer version="4.2.0">
          <elements/>
          <inboundDataType>HL7V2</inboundDataType>
          <outboundDataType>HL7V2</outboundDataType>
          <inboundProperties class="com.mirth.connect.plugins.datatypes.hl7v2.HL7v2DataTypeProperties" version="4.2.0">
            <serializationProperties class="com.mirth.connect.plugins.datatypes.hl7v2.HL7v2SerializationProperties" version="4.2.0">
              <handleRepetitions>true</handleRepetitions>
              <handleSubcomponents>true</handleSubcomponents>
              <useStrictParser>false</useStrictParser>
              <useStrictValidation>false</useStrictValidation>
              <stripNamespaces>false</stripNamespaces>
              <segmentDelimiter>\r</segmentDelimiter>
              <convertLineBreaks>true</convertLineBreaks>
            </serializationProperties>
            <deserializationProperties class="com.mirth.connect.plugins.datatypes.hl7v2.HL7v2DeserializationProperties" version="4.2.0">
              <useStrictParser>false</useStrictParser>
              <useStrictValidation>false</useStrictValidation>
              <segmentDelimiter>\r</segmentDelimiter>
            </deserializationProperties>
            <batchProperties class="com.mirth.connect.plugins.datatypes.hl7v2.HL7v2BatchProperties" version="4.2.0">
              <splitType>MSH_Segment</splitType>
              <batchScript></batchScript>
            </batchProperties>
            <responseGenerationProperties class="com.mirth.connect.plugins.datatypes.hl7v2.HL7v2ResponseGenerationProperties" version="4.2.0">
              <segmentDelimiter>\r</segmentDelimiter>
              <successfulACKCode>AA</successfulACKCode>
              <successfulACKMessage></successfulACKMessage>
              <errorACKCode>AE</errorACKCode>
              <errorACKMessage>An Error Occurred Processing Message.</errorACKMessage>
              <rejectedACKCode>AR</rejectedACKCode>
              <rejectedACKMessage>Message Rejected.</rejectedACKMessage>
              <msh15ACKAccept>false</msh15ACKAccept>
              <dateFormat>yyyyMMddHHmmss.SSS</dateFormat>
            </responseGenerationProperties>
            <responseValidationProperties class="com.mirth.connect.plugins.datatypes.hl7v2.HL7v2ResponseValidationProperties" version="4.2.0">
              <successfulACKCode>AA,CA</successfulACKCode>
              <errorACKCode>AE,CE</errorACKCode>
              <rejectedACKCode>AR,CR</rejectedACKCode>
              <validateMessageControlId>true</validateMessageControlId>
              <originalMessageControlId>Destination_Encoded</originalMessageControlId>
              <originalIdMapVariable></originalIdMapVariable>
            </responseValidationProperties>
          </inboundProperties>
          <outboundProperties class="com.mirth.connect.plugins.datatypes.hl7v2.HL7v2DataTypeProperties" version="4.2.0">
            <serializationProperties class="com.mirth.connect.plugins.datatypes.hl7v2.HL7v2SerializationProperties" version="4.2.0">
              <handleRepetitions>true</handleRepetitions>
              <handleSubcomponents>true</handleSubcomponents>
              <useStrictParser>false</useStrictParser>
              <useStrictValidation>false</useStrictValidation>
              <stripNamespaces>false</stripNamespaces>
              <segmentDelimiter>\r</segmentDelimiter>
              <convertLineBreaks>true</convertLineBreaks>
            </serializationProperties>
            <deserializationProperties class="com.mirth.connect.plugins.datatypes.hl7v2.HL7v2DeserializationProperties" version="4.2.0">
              <useStrictParser>false</useStrictParser>
              <useStrictValidation>false</useStrictValidation>
              <segmentDelimiter>\r</segmentDelimiter>
            </deserializationProperties>
            <batchProperties class="com.mirth.connect.plugins.datatypes.hl7v2.HL7v2BatchProperties" version="4.2.0">
              <splitType>MSH_Segment</splitType>
              <batchScript></batchScript>
            </batchProperties>
            <responseGenerationProperties class="com.mirth.connect.plugins.datatypes.hl7v2.HL7v2ResponseGenerationProperties" version="4.2.0">
              <segmentDelimiter>\r</segmentDelimiter>
              <successfulACKCode>AA</successfulACKCode>
              <successfulACKMessage></successfulACKMessage>
              <errorACKCode>AE</errorACKCode>
              <errorACKMessage>An Error Occurred Processing Message.</errorACKMessage>
              <rejectedACKCode>AR</rejectedACKCode>
              <rejectedACKMessage>Message Rejected.</rejectedACKMessage>
              <msh15ACKAccept>false</msh15ACKAccept>
              <dateFormat>yyyyMMddHHmmss.SSS</dateFormat>
            </responseGenerationProperties>
            <responseValidationProperties class="com.mirth.connect.plugins.datatypes.hl7v2.HL7v2ResponseValidationProperties" version="4.2.0">
              <successfulACKCode>AA,CA</successfulACKCode>
              <errorACKCode>AE,CE</errorACKCode>
              <rejectedACKCode>AR,CR</rejectedACKCode>
              <validateMessageControlId>true</validateMessageControlId>
              <originalMessageControlId>Destination_Encoded</originalMessageControlId>
              <originalIdMapVariable></originalIdMapVariable>
            </responseValidationProperties>
          </outboundProperties>
        </transformer>
        <filter version="4.2.0">
          <elements/>
        </filter>
        <transportName>TCP Listener</transportName>
        <mode>SOURCE</mode>
        <enabled>true</enabled>
        <waitForPrevious>true</waitForPrevious>
      </sourceConnector>
      <destinationConnectors>
        <connector version="4.2.0">
          <metaDataId>1</metaDataId>
          <name>ProcessADTMessage</name>
          <properties class="com.mirth.connect.connectors.vm.VmDispatcherProperties" version="4.2.0">
            <pluginProperties/>
            <destinationConnectorProperties version="4.2.0">
              <queueEnabled>false</queueEnabled>
              <sendFirst>false</sendFirst>
              <retryIntervalMillis>10000</retryIntervalMillis>
              <regenerateTemplate>false</regenerateTemplate>
              <retryCount>0</retryCount>
              <rotate>false</rotate>
              <includeFilterTransformer>false</includeFilterTransformer>
              <threadCount>1</threadCount>
              <threadAssignmentVariable></threadAssignmentVariable>
              <validateResponse>false</validateResponse>
              <resourceIds class="linked-hash-map">
                <entry>
                  <string>Default Resource</string>
                  <string>[Default Resource]</string>
                </entry>
                <entry>
                  <string>4852c051-c963-4cdf-9a99-2edaa044875d</string>
                  <string>MirthAWS</string>
                </entry>
              </resourceIds>
              <queueBufferSize>1000</queueBufferSize>
              <reattachAttachments>true</reattachAttachments>
            </destinationConnectorProperties>
            <channelId>0cf08b19-ba40-438b-b050-d94d04ca40bc</channelId>
            <channelTemplate>${message.encodedData}</channelTemplate>
            <mapVariables/>
          </properties>
          <transformer version="4.2.0">
            <elements/>
            <inboundTemplate encoding="base64">TVNIfF5+XCZ8TkpHQ1BKMzNPU0ZQOVpaSEMyTTZ8MDgwMjc3MzUtMjY2Yi00MTQyLWF8U3V0dXJlSGVhbHRofHwyMDIzMDMyMTAzNDl8fEFEVF5BMDFeQURUX0EwMXwyMDIzMDMyMTAzNDkwUURQNDZCNXxQfDIuNQpFVk58QTAxfDIwMjIwNzE1MDAwMHwyMDIyMTExNjAwMDB8MDF8fDIwMjMwMzIxMTU0OQpQSUR8MXxFUi1KQy04MzI5fFBILTE3N15eXkhDSEImSENIQiZJU09eUE5+V1AtNzIwXl5eSENIQiZIQ0hCJklTT15QSXxaUi05MzJeXl5IQ0hCJkhDSEImSVNPXlBJfFN0ZXBoZW5zXkNsZXZlbGFuZF5DQXx8MTk2OTA1Mjd8fHx8R2FzdG9uIFdlc3Ricm9vayBBdmVeXkRlbnZlcl5NYXJ5bGFuZF42MDYxMV5eUF4wV0dJT14yMTd8fHx8fHx8UjNFMjBQRUZQUTQ5fDQwMi05Mi0zODUwfHx8fHx8fHx8fDE5NjcwNjAzMDAwMDAwfFkKUFYxfHxPCklOMXwxfDczNzEwMTA1OTZ8UFlESVZ8N042UFpeTHxeXl5eXlVTQXx8fHx8fHx8fHx8XlVYTjlHfHwxOTYyMTEwOHw5RzBKTnx8fHx8fHx8fHx8fHx8fHx8TEUwVVo=</inboundTemplate>
            <outboundTemplate encoding="base64"></outboundTemplate>
            <inboundDataType>HL7V2</inboundDataType>
            <outboundDataType>HL7V2</outboundDataType>
            <inboundProperties class="com.mirth.connect.plugins.datatypes.hl7v2.HL7v2DataTypeProperties" version="4.2.0">
              <serializationProperties class="com.mirth.connect.plugins.datatypes.hl7v2.HL7v2SerializationProperties" version="4.2.0">
                <handleRepetitions>true</handleRepetitions>
                <handleSubcomponents>true</handleSubcomponents>
                <useStrictParser>false</useStrictParser>
                <useStrictValidation>false</useStrictValidation>
                <stripNamespaces>false</stripNamespaces>
                <segmentDelimiter>\r</segmentDelimiter>
                <convertLineBreaks>true</convertLineBreaks>
              </serializationProperties>
              <deserializationProperties class="com.mirth.connect.plugins.datatypes.hl7v2.HL7v2DeserializationProperties" version="4.2.0">
                <useStrictParser>false</useStrictParser>
                <useStrictValidation>false</useStrictValidation>
                <segmentDelimiter>\r</segmentDelimiter>
              </deserializationProperties>
              <batchProperties class="com.mirth.connect.plugins.datatypes.hl7v2.HL7v2BatchProperties" version="4.2.0">
                <splitType>MSH_Segment</splitType>
                <batchScript></batchScript>
              </batchProperties>
              <responseGenerationProperties class="com.mirth.connect.plugins.datatypes.hl7v2.HL7v2ResponseGenerationProperties" version="4.2.0">
                <segmentDelimiter>\r</segmentDelimiter>
                <successfulACKCode>AA</successfulACKCode>
                <successfulACKMessage></successfulACKMessage>
                <errorACKCode>AE</errorACKCode>
                <errorACKMessage>An Error Occurred Processing Message.</errorACKMessage>
                <rejectedACKCode>AR</rejectedACKCode>
                <rejectedACKMessage>Message Rejected.</rejectedACKMessage>
                <msh15ACKAccept>false</msh15ACKAccept>
                <dateFormat>yyyyMMddHHmmss.SSS</dateFormat>
              </responseGenerationProperties>
              <responseValidationProperties class="com.mirth.connect.plugins.datatypes.hl7v2.HL7v2ResponseValidationProperties" version="4.2.0">
                <successfulACKCode>AA,CA</successfulACKCode>
                <errorACKCode>AE,CE</errorACKCode>
                <rejectedACKCode>AR,CR</rejectedACKCode>
                <validateMessageControlId>true</validateMessageControlId>
                <originalMessageControlId>Destination_Encoded</originalMessageControlId>
                <originalIdMapVariable></originalIdMapVariable>
              </responseValidationProperties>
            </inboundProperties>
            <outboundProperties class="com.mirth.connect.plugins.datatypes.hl7v2.HL7v2DataTypeProperties" version="4.2.0">
              <serializationProperties class="com.mirth.connect.plugins.datatypes.hl7v2.HL7v2SerializationProperties" version="4.2.0">
                <handleRepetitions>true</handleRepetitions>
                <handleSubcomponents>true</handleSubcomponents>
                <useStrictParser>false</useStrictParser>
                <useStrictValidation>false</useStrictValidation>
                <stripNamespaces>false</stripNamespaces>
                <segmentDelimiter>\r</segmentDelimiter>
                <convertLineBreaks>true</convertLineBreaks>
              </serializationProperties>
              <deserializationProperties class="com.mirth.connect.plugins.datatypes.hl7v2.HL7v2DeserializationProperties" version="4.2.0">
                <useStrictParser>false</useStrictParser>
                <useStrictValidation>false</useStrictValidation>
                <segmentDelimiter>\r</segmentDelimiter>
              </deserializationProperties>
              <batchProperties class="com.mirth.connect.plugins.datatypes.hl7v2.HL7v2BatchProperties" version="4.2.0">
                <splitType>MSH_Segment</splitType>
                <batchScript></batchScript>
              </batchProperties>
              <responseGenerationProperties class="com.mirth.connect.plugins.datatypes.hl7v2.HL7v2ResponseGenerationProperties" version="4.2.0">
                <segmentDelimiter>\r</segmentDelimiter>
                <successfulACKCode>AA</successfulACKCode>
                <successfulACKMessage></successfulACKMessage>
                <errorACKCode>AE</errorACKCode>
                <errorACKMessage>An Error Occurred Processing Message.</errorACKMessage>
                <rejectedACKCode>AR</rejectedACKCode>
                <rejectedACKMessage>Message Rejected.</rejectedACKMessage>
                <msh15ACKAccept>false</msh15ACKAccept>
                <dateFormat>yyyyMMddHHmmss.SSS</dateFormat>
              </responseGenerationProperties>
              <responseValidationProperties class="com.mirth.connect.plugins.datatypes.hl7v2.HL7v2ResponseValidationProperties" version="4.2.0">
                <successfulACKCode>AA,CA</successfulACKCode>
                <errorACKCode>AE,CE</errorACKCode>
                <rejectedACKCode>AR,CR</rejectedACKCode>
                <validateMessageControlId>true</validateMessageControlId>
                <originalMessageControlId>Destination_Encoded</originalMessageControlId>
                <originalIdMapVariable></originalIdMapVariable>
              </responseValidationProperties>
            </outboundProperties>
          </transformer>
          <responseTransformer version="4.2.0">
            <elements/>
            <inboundDataType>HL7V2</inboundDataType>
            <outboundDataType>HL7V2</outboundDataType>
            <inboundProperties class="com.mirth.connect.plugins.datatypes.hl7v2.HL7v2DataTypeProperties" version="4.2.0">
              <serializationProperties class="com.mirth.connect.plugins.datatypes.hl7v2.HL7v2SerializationProperties" version="4.2.0">
                <handleRepetitions>true</handleRepetitions>
                <handleSubcomponents>true</handleSubcomponents>
                <useStrictParser>false</useStrictParser>
                <useStrictValidation>false</useStrictValidation>
                <stripNamespaces>false</stripNamespaces>
                <segmentDelimiter>\r</segmentDelimiter>
                <convertLineBreaks>true</convertLineBreaks>
              </serializationProperties>
              <deserializationProperties class="com.mirth.connect.plugins.datatypes.hl7v2.HL7v2DeserializationProperties" version="4.2.0">
                <useStrictParser>false</useStrictParser>
                <useStrictValidation>false</useStrictValidation>
                <segmentDelimiter>\r</segmentDelimiter>
              </deserializationProperties>
              <batchProperties class="com.mirth.connect.plugins.datatypes.hl7v2.HL7v2BatchProperties" version="4.2.0">
                <splitType>MSH_Segment</splitType>
                <batchScript></batchScript>
              </batchProperties>
              <responseGenerationProperties class="com.mirth.connect.plugins.datatypes.hl7v2.HL7v2ResponseGenerationProperties" version="4.2.0">
                <segmentDelimiter>\r</segmentDelimiter>
                <successfulACKCode>AA</successfulACKCode>
                <successfulACKMessage></successfulACKMessage>
                <errorACKCode>AE</errorACKCode>
                <errorACKMessage>An Error Occurred Processing Message.</errorACKMessage>
                <rejectedACKCode>AR</rejectedACKCode>
                <rejectedACKMessage>Message Rejected.</rejectedACKMessage>
                <msh15ACKAccept>false</msh15ACKAccept>
                <dateFormat>yyyyMMddHHmmss.SSS</dateFormat>
              </responseGenerationProperties>
              <responseValidationProperties class="com.mirth.connect.plugins.datatypes.hl7v2.HL7v2ResponseValidationProperties" version="4.2.0">
                <successfulACKCode>AA,CA</successfulACKCode>
                <errorACKCode>AE,CE</errorACKCode>
                <rejectedACKCode>AR,CR</rejectedACKCode>
                <validateMessageControlId>true</validateMessageControlId>
                <originalMessageControlId>Destination_Encoded</originalMessageControlId>
                <originalIdMapVariable></originalIdMapVariable>
              </responseValidationProperties>
            </inboundProperties>
            <outboundProperties class="com.mirth.connect.plugins.datatypes.hl7v2.HL7v2DataTypeProperties" version="4.2.0">
              <serializationProperties class="com.mirth.connect.plugins.datatypes.hl7v2.HL7v2SerializationProperties" version="4.2.0">
                <handleRepetitions>true</handleRepetitions>
                <handleSubcomponents>true</handleSubcomponents>
                <useStrictParser>false</useStrictParser>
                <useStrictValidation>false</useStrictValidation>
                <stripNamespaces>false</stripNamespaces>
                <segmentDelimiter>\r</segmentDelimiter>
                <convertLineBreaks>true</convertLineBreaks>
              </serializationProperties>
              <deserializationProperties class="com.mirth.connect.plugins.datatypes.hl7v2.HL7v2DeserializationProperties" version="4.2.0">
                <useStrictParser>false</useStrictParser>
                <useStrictValidation>false</useStrictValidation>
                <segmentDelimiter>\r</segmentDelimiter>
              </deserializationProperties>
              <batchProperties class="com.mirth.connect.plugins.datatypes.hl7v2.HL7v2BatchProperties" version="4.2.0">
                <splitType>MSH_Segment</splitType>
                <batchScript></batchScript>
              </batchProperties>
              <responseGenerationProperties class="com.mirth.connect.plugins.datatypes.hl7v2.HL7v2ResponseGenerationProperties" version="4.2.0">
                <segmentDelimiter>\r</segmentDelimiter>
                <successfulACKCode>AA</successfulACKCode>
                <successfulACKMessage></successfulACKMessage>
                <errorACKCode>AE</errorACKCode>
                <errorACKMessage>An Error Occurred Processing Message.</errorACKMessage>
                <rejectedACKCode>AR</rejectedACKCode>
                <rejectedACKMessage>Message Rejected.</rejectedACKMessage>
                <msh15ACKAccept>false</msh15ACKAccept>
                <dateFormat>yyyyMMddHHmmss.SSS</dateFormat>
              </responseGenerationProperties>
              <responseValidationProperties class="com.mirth.connect.plugins.datatypes.hl7v2.HL7v2ResponseValidationProperties" version="4.2.0">
                <successfulACKCode>AA,CA</successfulACKCode>
                <errorACKCode>AE,CE</errorACKCode>
                <rejectedACKCode>AR,CR</rejectedACKCode>
                <validateMessageControlId>true</validateMessageControlId>
                <originalMessageControlId>Destination_Encoded</originalMessageControlId>
                <originalIdMapVariable></originalIdMapVariable>
              </responseValidationProperties>
            </outboundProperties>
          </responseTransformer>
          <filter version="4.2.0">
            <elements>
              <com.mirth.connect.plugins.rulebuilder.RuleBuilderRule version="4.2.0">
                <name>Accept message if &quot;msg[&apos;MSH&apos;][&apos;MSH.9&apos;][&apos;MSH.9.1&apos;].toString()&quot; equals &quot;ADT&quot;</name>
                <sequenceNumber>0</sequenceNumber>
                <enabled>true</enabled>
                <field>msg[&apos;MSH&apos;][&apos;MSH.9&apos;][&apos;MSH.9.1&apos;].toString()</field>
                <condition>EQUALS</condition>
                <values>
                  <string>&quot;ADT&quot;</string>
                </values>
              </com.mirth.connect.plugins.rulebuilder.RuleBuilderRule>
            </elements>
          </filter>
          <transportName>Channel Writer</transportName>
          <mode>DESTINATION</mode>
          <enabled>true</enabled>
          <waitForPrevious>true</waitForPrevious>
        </connector>
        <connector version="4.2.0">
          <metaDataId>11</metaDataId>
          <name>Other</name>
          <properties class="com.mirth.connect.connectors.file.FileDispatcherProperties" version="4.2.0">
            <pluginProperties/>
            <destinationConnectorProperties version="4.2.0">
              <queueEnabled>false</queueEnabled>
              <sendFirst>false</sendFirst>
              <retryIntervalMillis>10000</retryIntervalMillis>
              <regenerateTemplate>false</regenerateTemplate>
              <retryCount>0</retryCount>
              <rotate>false</rotate>
              <includeFilterTransformer>false</includeFilterTransformer>
              <threadCount>1</threadCount>
              <threadAssignmentVariable></threadAssignmentVariable>
              <validateResponse>false</validateResponse>
              <resourceIds class="linked-hash-map">
                <entry>
                  <string>Default Resource</string>
                  <string>[Default Resource]</string>
                </entry>
              </resourceIds>
              <queueBufferSize>1000</queueBufferSize>
              <reattachAttachments>true</reattachAttachments>
            </destinationConnectorProperties>
            <scheme>S3</scheme>
            <schemeProperties class="com.mirth.connect.connectors.file.S3SchemeProperties">
              <useDefaultCredentialProviderChain>true</useDefaultCredentialProviderChain>
              <useTemporaryCredentials>false</useTemporaryCredentials>
              <duration>7200</duration>
              <region>us-east-1</region>
              <customHeaders class="linked-hash-map"/>
            </schemeProperties>
            <host>hl7message-production/other</host>
            <outputPattern>${mirth_type}.${DATE}.txt</outputPattern>
            <anonymous>false</anonymous>
            <username>${accessKey}</username>
            <password>hqZCQlgOwjPBRzJKwGUu9E8VeonyeuKfDg0t4dNp</password>
            <timeout>10000</timeout>
            <keepConnectionOpen>true</keepConnectionOpen>
            <maxIdleTime>0</maxIdleTime>
            <secure>true</secure>
            <passive>true</passive>
            <validateConnection>true</validateConnection>
            <outputAppend>false</outputAppend>
            <errorOnExists>false</errorOnExists>
            <temporary>false</temporary>
            <binary>false</binary>
            <charsetEncoding>DEFAULT_ENCODING</charsetEncoding>
            <template>${message.encodedData}</template>
          </properties>
          <transformer version="4.2.0">
            <elements/>
            <inboundTemplate encoding="base64">TVNIfF5+XCZ8TkpHQ1BKMzNPU0ZQOVpaSEMyTTZ8MDgwMjc3MzUtMjY2Yi00MTQyLWF8U3V0dXJlSGVhbHRofHwyMDIzMDMyMTAzNDl8fEFEVF5BMDFeQURUX0EwMXwyMDIzMDMyMTAzNDkwUURQNDZCNXxQfDIuNQpFVk58QTAxfDIwMjIwNzE1MDAwMHwyMDIyMTExNjAwMDB8MDF8fDIwMjMwMzIxMTU0OQpQSUR8MXxFUi1KQy04MzI5fFBILTE3N15eXkhDSEImSENIQiZJU09eUE5+V1AtNzIwXl5eSENIQiZIQ0hCJklTT15QSXxaUi05MzJeXl5IQ0hCJkhDSEImSVNPXlBJfFN0ZXBoZW5zXkNsZXZlbGFuZF5DQXx8MTk2OTA1Mjd8fHx8R2FzdG9uIFdlc3Ricm9vayBBdmVeXkRlbnZlcl5NYXJ5bGFuZF42MDYxMV5eUF4wV0dJT14yMTd8fHx8fHx8UjNFMjBQRUZQUTQ5fDQwMi05Mi0zODUwfHx8fHx8fHx8fDE5NjcwNjAzMDAwMDAwfFkKUFYxfHxPCklOMXwxfDczNzEwMTA1OTZ8UFlESVZ8N042UFpeTHxeXl5eXlVTQXx8fHx8fHx8fHx8XlVYTjlHfHwxOTYyMTEwOHw5RzBKTnx8fHx8fHx8fHx8fHx8fHx8TEUwVVo=</inboundTemplate>
            <inboundDataType>HL7V2</inboundDataType>
            <outboundDataType>HL7V2</outboundDataType>
            <inboundProperties class="com.mirth.connect.plugins.datatypes.hl7v2.HL7v2DataTypeProperties" version="4.2.0">
              <serializationProperties class="com.mirth.connect.plugins.datatypes.hl7v2.HL7v2SerializationProperties" version="4.2.0">
                <handleRepetitions>true</handleRepetitions>
                <handleSubcomponents>true</handleSubcomponents>
                <useStrictParser>false</useStrictParser>
                <useStrictValidation>false</useStrictValidation>
                <stripNamespaces>false</stripNamespaces>
                <segmentDelimiter>\r</segmentDelimiter>
                <convertLineBreaks>true</convertLineBreaks>
              </serializationProperties>
              <deserializationProperties class="com.mirth.connect.plugins.datatypes.hl7v2.HL7v2DeserializationProperties" version="4.2.0">
                <useStrictParser>false</useStrictParser>
                <useStrictValidation>false</useStrictValidation>
                <segmentDelimiter>\r</segmentDelimiter>
              </deserializationProperties>
              <batchProperties class="com.mirth.connect.plugins.datatypes.hl7v2.HL7v2BatchProperties" version="4.2.0">
                <splitType>MSH_Segment</splitType>
                <batchScript></batchScript>
              </batchProperties>
              <responseGenerationProperties class="com.mirth.connect.plugins.datatypes.hl7v2.HL7v2ResponseGenerationProperties" version="4.2.0">
                <segmentDelimiter>\r</segmentDelimiter>
                <successfulACKCode>AA</successfulACKCode>
                <successfulACKMessage></successfulACKMessage>
                <errorACKCode>AE</errorACKCode>
                <errorACKMessage>An Error Occurred Processing Message.</errorACKMessage>
                <rejectedACKCode>AR</rejectedACKCode>
                <rejectedACKMessage>Message Rejected.</rejectedACKMessage>
                <msh15ACKAccept>false</msh15ACKAccept>
                <dateFormat>yyyyMMddHHmmss.SSS</dateFormat>
              </responseGenerationProperties>
              <responseValidationProperties class="com.mirth.connect.plugins.datatypes.hl7v2.HL7v2ResponseValidationProperties" version="4.2.0">
                <successfulACKCode>AA,CA</successfulACKCode>
                <errorACKCode>AE,CE</errorACKCode>
                <rejectedACKCode>AR,CR</rejectedACKCode>
                <validateMessageControlId>true</validateMessageControlId>
                <originalMessageControlId>Destination_Encoded</originalMessageControlId>
                <originalIdMapVariable></originalIdMapVariable>
              </responseValidationProperties>
            </inboundProperties>
            <outboundProperties class="com.mirth.connect.plugins.datatypes.hl7v2.HL7v2DataTypeProperties" version="4.2.0">
              <serializationProperties class="com.mirth.connect.plugins.datatypes.hl7v2.HL7v2SerializationProperties" version="4.2.0">
                <handleRepetitions>true</handleRepetitions>
                <handleSubcomponents>true</handleSubcomponents>
                <useStrictParser>false</useStrictParser>
                <useStrictValidation>false</useStrictValidation>
                <stripNamespaces>false</stripNamespaces>
                <segmentDelimiter>\r</segmentDelimiter>
                <convertLineBreaks>true</convertLineBreaks>
              </serializationProperties>
              <deserializationProperties class="com.mirth.connect.plugins.datatypes.hl7v2.HL7v2DeserializationProperties" version="4.2.0">
                <useStrictParser>false</useStrictParser>
                <useStrictValidation>false</useStrictValidation>
                <segmentDelimiter>\r</segmentDelimiter>
              </deserializationProperties>
              <batchProperties class="com.mirth.connect.plugins.datatypes.hl7v2.HL7v2BatchProperties" version="4.2.0">
                <splitType>MSH_Segment</splitType>
                <batchScript></batchScript>
              </batchProperties>
              <responseGenerationProperties class="com.mirth.connect.plugins.datatypes.hl7v2.HL7v2ResponseGenerationProperties" version="4.2.0">
                <segmentDelimiter>\r</segmentDelimiter>
                <successfulACKCode>AA</successfulACKCode>
                <successfulACKMessage></successfulACKMessage>
                <errorACKCode>AE</errorACKCode>
                <errorACKMessage>An Error Occurred Processing Message.</errorACKMessage>
                <rejectedACKCode>AR</rejectedACKCode>
                <rejectedACKMessage>Message Rejected.</rejectedACKMessage>
                <msh15ACKAccept>false</msh15ACKAccept>
                <dateFormat>yyyyMMddHHmmss.SSS</dateFormat>
              </responseGenerationProperties>
              <responseValidationProperties class="com.mirth.connect.plugins.datatypes.hl7v2.HL7v2ResponseValidationProperties" version="4.2.0">
                <successfulACKCode>AA,CA</successfulACKCode>
                <errorACKCode>AE,CE</errorACKCode>
                <rejectedACKCode>AR,CR</rejectedACKCode>
                <validateMessageControlId>true</validateMessageControlId>
                <originalMessageControlId>Destination_Encoded</originalMessageControlId>
                <originalIdMapVariable></originalIdMapVariable>
              </responseValidationProperties>
            </outboundProperties>
          </transformer>
          <responseTransformer version="4.2.0">
            <elements/>
            <inboundDataType>HL7V2</inboundDataType>
            <outboundDataType>HL7V2</outboundDataType>
            <inboundProperties class="com.mirth.connect.plugins.datatypes.hl7v2.HL7v2DataTypeProperties" version="4.2.0">
              <serializationProperties class="com.mirth.connect.plugins.datatypes.hl7v2.HL7v2SerializationProperties" version="4.2.0">
                <handleRepetitions>true</handleRepetitions>
                <handleSubcomponents>true</handleSubcomponents>
                <useStrictParser>false</useStrictParser>
                <useStrictValidation>false</useStrictValidation>
                <stripNamespaces>false</stripNamespaces>
                <segmentDelimiter>\r</segmentDelimiter>
                <convertLineBreaks>true</convertLineBreaks>
              </serializationProperties>
              <deserializationProperties class="com.mirth.connect.plugins.datatypes.hl7v2.HL7v2DeserializationProperties" version="4.2.0">
                <useStrictParser>false</useStrictParser>
                <useStrictValidation>false</useStrictValidation>
                <segmentDelimiter>\r</segmentDelimiter>
              </deserializationProperties>
              <batchProperties class="com.mirth.connect.plugins.datatypes.hl7v2.HL7v2BatchProperties" version="4.2.0">
                <splitType>MSH_Segment</splitType>
                <batchScript></batchScript>
              </batchProperties>
              <responseGenerationProperties class="com.mirth.connect.plugins.datatypes.hl7v2.HL7v2ResponseGenerationProperties" version="4.2.0">
                <segmentDelimiter>\r</segmentDelimiter>
                <successfulACKCode>AA</successfulACKCode>
                <successfulACKMessage></successfulACKMessage>
                <errorACKCode>AE</errorACKCode>
                <errorACKMessage>An Error Occurred Processing Message.</errorACKMessage>
                <rejectedACKCode>AR</rejectedACKCode>
                <rejectedACKMessage>Message Rejected.</rejectedACKMessage>
                <msh15ACKAccept>false</msh15ACKAccept>
                <dateFormat>yyyyMMddHHmmss.SSS</dateFormat>
              </responseGenerationProperties>
              <responseValidationProperties class="com.mirth.connect.plugins.datatypes.hl7v2.HL7v2ResponseValidationProperties" version="4.2.0">
                <successfulACKCode>AA,CA</successfulACKCode>
                <errorACKCode>AE,CE</errorACKCode>
                <rejectedACKCode>AR,CR</rejectedACKCode>
                <validateMessageControlId>true</validateMessageControlId>
                <originalMessageControlId>Destination_Encoded</originalMessageControlId>
                <originalIdMapVariable></originalIdMapVariable>
              </responseValidationProperties>
            </inboundProperties>
            <outboundProperties class="com.mirth.connect.plugins.datatypes.hl7v2.HL7v2DataTypeProperties" version="4.2.0">
              <serializationProperties class="com.mirth.connect.plugins.datatypes.hl7v2.HL7v2SerializationProperties" version="4.2.0">
                <handleRepetitions>true</handleRepetitions>
                <handleSubcomponents>true</handleSubcomponents>
                <useStrictParser>false</useStrictParser>
                <useStrictValidation>false</useStrictValidation>
                <stripNamespaces>false</stripNamespaces>
                <segmentDelimiter>\r</segmentDelimiter>
                <convertLineBreaks>true</convertLineBreaks>
              </serializationProperties>
              <deserializationProperties class="com.mirth.connect.plugins.datatypes.hl7v2.HL7v2DeserializationProperties" version="4.2.0">
                <useStrictParser>false</useStrictParser>
                <useStrictValidation>false</useStrictValidation>
                <segmentDelimiter>\r</segmentDelimiter>
              </deserializationProperties>
              <batchProperties class="com.mirth.connect.plugins.datatypes.hl7v2.HL7v2BatchProperties" version="4.2.0">
                <splitType>MSH_Segment</splitType>
                <batchScript></batchScript>
              </batchProperties>
              <responseGenerationProperties class="com.mirth.connect.plugins.datatypes.hl7v2.HL7v2ResponseGenerationProperties" version="4.2.0">
                <segmentDelimiter>\r</segmentDelimiter>
                <successfulACKCode>AA</successfulACKCode>
                <successfulACKMessage></successfulACKMessage>
                <errorACKCode>AE</errorACKCode>
                <errorACKMessage>An Error Occurred Processing Message.</errorACKMessage>
                <rejectedACKCode>AR</rejectedACKCode>
                <rejectedACKMessage>Message Rejected.</rejectedACKMessage>
                <msh15ACKAccept>false</msh15ACKAccept>
                <dateFormat>yyyyMMddHHmmss.SSS</dateFormat>
              </responseGenerationProperties>
              <responseValidationProperties class="com.mirth.connect.plugins.datatypes.hl7v2.HL7v2ResponseValidationProperties" version="4.2.0">
                <successfulACKCode>AA,CA</successfulACKCode>
                <errorACKCode>AE,CE</errorACKCode>
                <rejectedACKCode>AR,CR</rejectedACKCode>
                <validateMessageControlId>true</validateMessageControlId>
                <originalMessageControlId>Destination_Encoded</originalMessageControlId>
                <originalIdMapVariable></originalIdMapVariable>
              </responseValidationProperties>
            </outboundProperties>
          </responseTransformer>
          <filter version="4.2.0">
            <elements>
              <com.mirth.connect.plugins.rulebuilder.RuleBuilderRule version="4.2.0">
                <name>Accept message if &quot;msg[&apos;MSH&apos;][&apos;MSH.9&apos;][&apos;MSH.9.1&apos;].toString()&quot; does not equal &quot;ADT&quot;</name>
                <sequenceNumber>0</sequenceNumber>
                <enabled>true</enabled>
                <field>msg[&apos;MSH&apos;][&apos;MSH.9&apos;][&apos;MSH.9.1&apos;].toString()</field>
                <condition>NOT_EQUAL</condition>
                <values>
                  <string>&quot;ADT&quot;</string>
                </values>
              </com.mirth.connect.plugins.rulebuilder.RuleBuilderRule>
            </elements>
          </filter>
          <transportName>File Writer</transportName>
          <mode>DESTINATION</mode>
          <enabled>true</enabled>
          <waitForPrevious>true</waitForPrevious>
        </connector>
      </destinationConnectors>
      <preprocessingScript>// Modify the message variable below to pre process data
return message;</preprocessingScript>
      <postprocessingScript>// This script executes once after a message has been processed
// Responses returned from here will be stored as &quot;Postprocessor&quot; in the response map
return;</postprocessingScript>
      <deployScript>// This script executes once when the channel is deployed
// You only have access to the globalMap and globalChannelMap here to persist data
return;</deployScript>
      <undeployScript>// This script executes once when the channel is undeployed
// You only have access to the globalMap and globalChannelMap here to persist data
return;</undeployScript>
      <properties version="4.2.0">
        <clearGlobalChannelMap>true</clearGlobalChannelMap>
        <messageStorageMode>DEVELOPMENT</messageStorageMode>
        <encryptData>false</encryptData>
        <removeContentOnCompletion>false</removeContentOnCompletion>
        <removeOnlyFilteredOnCompletion>false</removeOnlyFilteredOnCompletion>
        <removeAttachmentsOnCompletion>false</removeAttachmentsOnCompletion>
        <initialState>STARTED</initialState>
        <storeAttachments>true</storeAttachments>
        <metaDataColumns>
          <metaDataColumn>
            <name>SOURCE</name>
            <type>STRING</type>
            <mappingName>mirth_source</mappingName>
          </metaDataColumn>
          <metaDataColumn>
            <name>TYPE</name>
            <type>STRING</type>
            <mappingName>mirth_type</mappingName>
          </metaDataColumn>
        </metaDataColumns>
        <attachmentProperties version="4.2.0">
          <type>None</type>
          <properties/>
        </attachmentProperties>
        <resourceIds class="linked-hash-map">
          <entry>
            <string>Default Resource</string>
            <string>[Default Resource]</string>
          </entry>
          <entry>
            <string>4852c051-c963-4cdf-9a99-2edaa044875d</string>
            <string>MirthAWS</string>
          </entry>
        </resourceIds>
      </properties>
      <exportData>
        <metadata>
          <enabled>true</enabled>
          <lastModified>
            <time>1681263171805</time>
            <timezone>America/Winnipeg</timezone>
          </lastModified>
          <pruningSettings>
            <archiveEnabled>true</archiveEnabled>
            <pruneErroredMessages>false</pruneErroredMessages>
          </pruningSettings>
          <userId>1</userId>
        </metadata>
      </exportData>
    </channel>
  </channels>
</channelGroup>